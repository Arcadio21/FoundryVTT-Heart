<form class="heart prepare-roll">
    <input name="actor_id" type="hidden" value="{{actor_id}}"/>

    {{#if difficulty}}
    <input name="difficulty" type="hidden" value="{{difficulty}}"/>
    {{else}}
    {{#> "systems/heart/templates/util/section.html"  
            title="heart.difficulty"
            value=description
            target="difficulty"
            match=false
            optional=false
            type="radio"}}
        {{#> "systems/heart/templates/util/radio.html"
            array=difficulties value=difficulty group="difficulty"}}
            {{localizeHeart "difficulty" value}}
        {{/ "systems/heart/templates/util/radio.html"}}
    {{/ "systems/heart/templates/util/section.html" }}
    {{/if}}

    <div class="margin-0-5em">

        <h3 class="center">{{localizeHeart "prepare" "roll" "dice_pool"}}</h3>
        <table class="roll-options">
            <tr>
                <td><img class="dice" src="icons/dice/d10black.svg" /></td>
                <td><img class="dice" src="icons/dice/d10black.svg" /></td>
                <td><img class="dice" src="icons/dice/d10black.svg" /></td>
                <td><img class="dice" src="icons/dice/d10black.svg" /></td>
                <td><img class="dice" src="icons/dice/d10black.svg" /></td>
            </tr>
            <tr>
                <td>{{localize "heart.prepare:roll:start"}}</td>
                <td>{{localize "heart.prepare:roll:relevant_skill"}}</td>
                <td>{{localize "heart.prepare:roll:relevant_domain"}}</td>
                <td>{{localize "heart.prepare:roll:relevant_mastery"}}</td>
                <td>{{localize "heart.prepare:roll:relevant_help"}}</td>
            </tr>
            <tr>
                <td></td>
                <td>
                    {{#if skills}}
                    <select name="skill" class="inflexible">
                        <option value=""></option>
                        {{#each skills as |name|}}
                        <option value="{{name}}">{{localizeHeart "skill" name}}</option>
                        {{/each}}
                    </select>
                    {{else}}
                    {{localizeHeart "prepare" "roll" "na"}}
                    {{/if}}
                </td>
                <td>
                    {{#if domains}}
                    <select name="domain" class="inflexible">
                        <option value=""></option>
                        {{#each domains as |name|}}
                        <option value="{{name}}">{{localizeHeart "domain" name}}</option>
                        {{/each}}
                    </select>
                    {{else}}
                    {{localizeHeart "prepare" "roll" "na"}}
                    {{/if}}
                </td>
                <td><input type="checkbox" name="mastery" /></td>
                <td><input type="number" min=0 step=1 name="help" value=0/></td>
            </tr>
        </table>
    </div>

    <div class="flexrow margin-0-5em">
        <button data-action='cancel'>{{localize "Cancel"}}</button>
        <button data-action='request-roll'>{{localizeHeart "perform" "roll"}}</button>
    </div>
</form>