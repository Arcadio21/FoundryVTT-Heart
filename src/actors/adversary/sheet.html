{{#*inline "itemListSection"}}
<div class="section {{localizeHeart type 'label-multiple'}}">
    <h2>
        {{#if overrideTitle}}
        {{overrideTitle}}
        {{else}}
        {{localizeHeart type "label-multiple"}}
        {{/if}}
        {{#if actor.isOwner}}
        <div class="right">
            <a data-action="add" data-type="{{type}}" data-data='{"active": true}'><span class="fas fa-plus"></span></a>
        </div>
        {{/if}}
    </h2>

    <div class="item-list">
    {{#each list as |item|}}
        {{> (join "/" "heart:items" type "preview.html") item=item dataPath="???" hideInactive=../hideInactive showActivate=../showActivate showDelete=(or (not item.isChild) user.isGM )}}
    {{/each}}
    </div>
    
    {{#if (and showTextboxesBelowItems description_path)}}
    {{editor content=(lookup actor.data.data description_path) target=(join "." "data" description_path) button=true editable=editable owner=owner}}
    {{/if}}
</div>
{{/inline}}

<div>
<form class="heart sheet actor adversary {{cssClass}}" autocomplete="off">
        <img class="profile" src="{{data.img}}" title="{{actor.name}}" data-edit="img"/>

        <div class="section grid-2 resistances place-top">
            <h3 class="center">{{localizeHeart "resistance" "label-single"}}</h3> 
            <h3 class="center">{{localizeHeart "protection" "label-single"}}</h3> 
            <div class="red" data-target='data.resistance'>{{{ordered-checkable actor.data.data.resistance actor.data.data.resistanceMax}}}</div>
            <div class="red" data-target='data.protection'>{{{ordered-checkable actor.data.data.protection 10}}}</div>
            
        </div>
        
        <div class="section info">
            <div class="grid-2 auto-first-col place-center">
                <h2>{{localizeHeart "adversary" "name"}}</h2>
                <input name="name" value="{{actor.name}}"/>
            </div>
        </div>

        <div class="section info">
            <div class="grid-2 auto-first-col place-center">
                <h2>{{localizeHeart "adversary" "resistanceMax"}}</h2>
                <input name="data.resistanceMax" value="{{actor.data.data.resistanceMax}}"/>
            </div>
        </div>

        <!--The dropdown for difficulty should be slapped in here, but I couldn't quite get it working-->
        <div class="section info">
            <div class="grid-2 auto-first-col place-center">
                <h2>{{localizeHeart "adversary" "difficulty"}}</h2>
                <input name="data.difficulty" value="{{actor.data.data.difficulty}}"/>
            </div>
        </div>

        <div class="section center wide notes">
            <h3>{{localizeHeart "adversary" "descriptors"}}</h3>
            {{editor content=actor.data.data.descriptors target="data.descriptors" button=true editable=editable owner=owner}}
        </div>

        <div class="section center wide notes">
            <h3>{{localizeHeart "adversary" "motivation"}}</h3>
            {{editor content=actor.data.data.motivation target="data.motivation" button=true editable=editable owner=owner}}
        </div>

        <div class="section center wide notes">
            <h3>{{localizeHeart "adversary" "special"}}</h3>
            {{editor content=actor.data.data.special target="data.special" button=true editable=editable owner=owner}}
        </div>

        {{> itemListSection type="equipment" list=actor.proxy.equipment description_path="equipment" showActivate=true}}
        {{> itemListSection type="resource" list=actor.proxy.resources description_path="resources"}}
        
        <div class="section center wide notes">
            <h3>{{localizeHeart "adversary" "notes"}}</h3>
            {{editor content=actor.data.data.notes target="data.notes" button=true editable=editable owner=owner}}
        </div>
        
        <div class="section center wide inactive-items">
            <h3>{{localizeHeart "adversary" "inactive-items"}}</h3>
            <div>{{localizeHeart "adversary" "inactive-items-description"}}</div>
            <div class="item-list">
            {{#each actor.items as |item|}}
                {{#if (and (not (undef item.data.data.active)) (not item.data.data.active)) }}
                    {{> (join "/" "heart:items" item.type "preview.html") item=item dataPath="???" showActivate=../user.isOwner showDelete=../user.isOwner}}
                {{/if}}
            {{/each}}
            </div>
        </div>
</form>
</div>