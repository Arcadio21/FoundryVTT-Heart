/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ 875:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.sheet.actor h2{font-family:\"MelmaCracked\";text-transform:uppercase;color:#630000;border:0;font-weight:bold;margin:0;padding:0;flex-grow:0}.heart.sheet.actor h2>div{font-size:1rem;color:#000}.heart.sheet.actor h3{font-family:\"MelmaCracked\";font-size:1.5em;text-transform:uppercase;color:#630000;border:0;font-weight:bold;margin:0;padding:0;flex-grow:0}.heart.sheet.actor .editor-content{font-size:15px;line-height:20px;background-image:-moz-linear-gradient(top, transparent, transparent 19px, rgba(99, 0, 0, 0.2) 0px);background-image:-webkit-linear-gradient(top, transparent, transparent 19px, rgba(99, 0, 0, 0.2) 0px);background-size:100% 20px;min-height:8em}.heart.sheet.actor .editor-content p{margin:0}.heart.sheet.actor.base img.profile{flex-grow:1;background:rgba(0,0,0,.5);cursor:pointer;max-height:6em}.heart.sheet.actor.base .text{flex-grow:3;display:flex;flex-flow:column}.heart.sheet.actor.base input[name=name]{grid-area:1/2/2/3;flex-grow:0;font-size:2em;border:0;align-self:bottom;text-align:center;background:none;color:#630000;font-weight:bold}.heart.sheet.actor.base .actor-type{color:#2c2c2c;font-size:1.2em;text-transform:uppercase;font-style:italic;align-self:top;flex-grow:0;text-align:center}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 963:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".sticky{position:sticky;top:0;z-index:1}.heart.sheet.actor.character{position:relative;background:#fff}.heart.sheet.actor.character .info .grid-2{grid-gap:1em;align-items:center}.heart.sheet.actor.character .calling{align-items:top}.heart.sheet.actor.character .calling .name{font-weight:bold;text-transform:uppercase;font-size:1.5em}.heart.sheet.actor.character img.profile{object-fit:contain;height:100%;min-height:100px;border:0}.heart.sheet.actor.character .faded{opacity:66%}.heart.sheet.actor.character .right{float:right;flex:auto 0 0}.heart.sheet.actor.character .col{margin:0 .5em}.heart.sheet.actor.character .grid-2 input:not([type]){border:0;border-bottom:1px dotted #630000;font-size:1.5em}.heart.sheet.actor.character .grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;place-items:stretch;column-gap:.5em}.heart.sheet.actor.character .grid-3.resistances{grid-template-columns:auto 1fr auto;align-items:start;justify-content:top}.heart.sheet.actor.character .grid-3.resistances.left{justify-self:left}.heart.sheet.actor.character .bold{font-weight:bold;font-size:16px}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 780:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.form .options,.chat-message .options{display:flex;align-items:center;justify-content:start}.heart.form .options .option,.chat-message .options .option{color:#000;font-family:\"Alegreya\";border:1px solid #000;border-radius:5px;background:#fff;margin:2px;padding:4px;display:inline-block;text-transform:uppercase}.heart.form input:checked+.option,.chat-message input:checked+.option{background:#630000;color:#fff}.heart.form .window-content{background:#fff}.heart.form label{font-weight:bold;font-family:\"MelmaCracked\";display:flex;align-items:center;justify-content:start;text-align:left}.heart.form .description{text-align:center}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 429:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".chat-message{background:#630000;color:#fff;border-color:#949494}.chat-message .item-type{text-transform:capitalize}.chat-message .message-header{color:#fff}.chat-message .dice-roll .dice-formula,.chat-message .dice-roll .dice-total{background:#fff;color:#630000;border-color:#949494}.chat-message .dice-roll .dice-formula{background:#000;color:#fff;font-size:1.2em;padding:.2em}.chat-message .dice-roll .dice .part-header{border-bottom-color:#fff}.chat-message .dice-roll .dice .part-header .part-formula{text-transform:uppercase}.chat-message .dice-roll .dice .dice-rolls .roll.discarded{filter:sepia(0.5) contrast(0.75) opacity(0.5)}.chat-message .message-content+.message-content{margin-top:.5em}.chat-message .heart h1{border:0;text-align:center}.chat-message .heart button{background:#949494;color:#fff}.chat-message .heart button .fas{padding:0 .5em}.chat-message .heart button+button{margin-top:.2em}.chat-message .roll-request{background:#000;padding:1em;border-radius:.5em;font-size:1.1em}.chat-message .roll-request label{display:flex;align-items:center;justify-items:end;place-content:end}.chat-message .roll-request select{color:#fff;appearance:none;width:100%;overflow:auto}.chat-message .roll-request select option{appearance:none;text-align:center;background:#000}.chat-message .roll-request button>*{text-overflow:ellipsis}.chat-message .roll-request .options{align-items:stretch;flex-wrap:wrap}.chat-message .roll-request .options .option img{height:3em;width:100%;object-fit:contain;border:0;background:rgba(0,0,0,.5);padding:0;margin:0;border-radius:0}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 746:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.sheet img.profile{flex-grow:1;background:rgba(0,0,0,.5);cursor:pointer}.heart.sheet .text{flex-grow:3;display:flex;flex-flow:column}.heart.sheet .subtitle{color:#2c2c2c;font-size:1.2em;text-transform:uppercase;font-style:italic;align-self:top;flex-grow:0;text-align:center}.heart.sheet .editor-content{font-size:15px;line-height:20px;background-image:-moz-linear-gradient(top, transparent, transparent 19px, rgba(99, 0, 0, 0.2) 0px);background-image:-webkit-linear-gradient(top, transparent, transparent 19px, rgba(99, 0, 0, 0.2) 0px);background-size:100% 20px;min-height:8em}.heart.sheet .editor-content p{margin:0}.heart.sheet .item-list{font-size:1.2em}.heart.sheet.base .info{display:flex;flex:0% 0 1;flex-flow:row wrap;place-items:center;place-content:center;background:#949494}.heart.sheet.base .info>*{flex:0% 1 1}.heart.sheet.base img.profile{flex-grow:1;background:rgba(0,0,0,.5);cursor:pointer;max-height:6em}.heart.sheet.base .text{flex-grow:3;display:flex;flex-flow:column}.heart.sheet.base input[name=name]{grid-area:1/2/2/3;flex-grow:0;font-size:2em;border:0;align-self:bottom;text-align:center;background:none;color:#630000;font-weight:bold}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 402:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(80);
/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _fonts_melma_MelmaCracked_ttf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(239);
// Imports



var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
___CSS_LOADER_EXPORT___.push([module.id, "@import url(https://fonts.googleapis.com/css2?family=Alegreya:ital,wght@0,400;0,500;0,600;1,400&display=swap);"]);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_1___default()(_fonts_melma_MelmaCracked_ttf__WEBPACK_IMPORTED_MODULE_2__);
// Module
___CSS_LOADER_EXPORT___.push([module.id, "@font-face{font-family:\"MelmaCracked\";src:url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ")}.title-font{font-family:\"MelmaCracked\"}input.hidden{display:none !important}input.toggle-display~*{max-height:0;overflow:hidden;transition:max-height .2s ease-out}input.toggle-display:checked~*{max-height:20em;transition:max-height .2s ease-in}.toggle-button{font-family:\"MelmaCracked\";color:#000;font-size:1.5em;text-align:center;display:flex;flex-flow:row wrap;justify-content:center;padding:.2em;margin:.3em 0;border-radius:.2em;background:#fff;border:3px solid #000;cursor:pointer}.chat-message{background:#630000;color:#fff;border-color:#949494}.chat-message .message-header{color:#fff}.chat-message .dice-roll .dice-formula,.chat-message .dice-roll .dice-total{background:#fff;color:#630000;border-color:#949494}.chat-message .dice-roll .dice-formula{background:#000;color:#fff}.chat-message .dice-roll .dice .part-header{border-bottom-color:#fff}.chat-message .dice-roll .dice .part-header .part-formula{text-transform:uppercase}.chat-message .dice-roll .dice .dice-rolls .roll.discarded{filter:sepia(0.5) contrast(0.75) opacity(0.5)}.chat-message .message-content+.message-content{margin-top:.5em}.chat-message .heart button{background:#949494;color:#fff}.chat-message .heart button .fas{padding:0 .5em}.chat-message .heart button+button{margin-top:.2em}.heart{font-family:\"Alegreya\",serif}.heart input{font-family:inherit}.heart button{font-family:\"Alegreya\";background:#630000;color:#fff;border-color:#2c2c2c;font-size:1rem;text-transform:uppercase;font-weight:bold;cursor:pointer}.heart.buttons{display:flex;flex-flow:row wrap;background:#000}.heart.buttons>*{flex:50px 1 0;min-width:200px}.heart table{border:0}.heart .ordered-checkable-box{flex:14px 0 0}.heart .ordered-checkable-box::after,.heart .ordered-checkable-box.checked::after{content:\"\";display:inline-block;width:14px;height:14px;border:3px solid #000;margin:0 2px}.heart .ordered-checkable-box.checked::after{background-image:linear-gradient(90deg, #000 0%, #000 100%);background-size:12px 12px;background-position:center;background-repeat:no-repeat}.heart input[type=checkbox]{flex:14px 0 0;appearance:none;display:inline-block;width:14px;height:14px;border:3px solid #000;margin:0 2px;box-sizing:content-box}.heart input[type=checkbox]:checked{background-image:linear-gradient(90deg, #000 0%, #000 100%);background-size:12px 12px;background-position:center;background-repeat:no-repeat}.heart input[type=checkbox]:disabled{background-image:linear-gradient(90deg, #949494 0%, #949494 100%);background-size:12px 12px;background-position:center;background-repeat:no-repeat}.heart input[type=checkbox].invert{border-color:#fff}.heart input[type=checkbox].invert:checked{background-image:linear-gradient(90deg, #fff 0%, #fff 100%)}.heart .red .ordered-checkable-box::after,.heart .red .ordered-checkable-box.checked:after{border-color:#630000}.heart .red .ordered-checkable-box.checked::after{background-image:linear-gradient(90deg, #630000 0%, #630000 100%)}.window-app .window-content{padding:0}.window-app .window-content>*{padding:8px}.grid-2{display:grid;grid-template-columns:1fr 1fr;place-items:stretch;grid-gap:.5em;margin:.5em}.grid-2.auto-first-col{grid-template-columns:auto 1fr;margin:.5em 0}.grid-2 .wide{grid-column:1/3}.grid-2.place-center{place-content:center}.grid-2.place-top{align-items:start}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 621:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, "form.heart.calling{display:block;font-size:1.1em}form.heart.calling h1,form.heart.calling h2{font-family:\"MelmaCracked\"}form.heart.calling h1,form.heart.calling h2,form.heart.calling h3{text-transform:uppercase}form.heart.calling h4{font-weight:bold}form.heart.calling h1,form.heart.calling h2,form.heart.calling h3,form.heart.calling h4{border:0;margin:0;flex:auto 0 0}form.heart.calling h1 .right,form.heart.calling h2 .right,form.heart.calling h3 .right,form.heart.calling h4 .right{float:right;font-family:Alegreya;font-size:.8em}form.heart.calling h1{background:#630000;color:#fff;padding:.2em}form.heart.calling h1 input{color:#fff !important;border:0;width:100%;font-size:1em !important;text-align:left !important}form.heart.calling h2{color:#630000;padding:.2em 0}form.heart.calling .description{flex:auto 0 0;font-size:1.2em;font-style:italic;padding:0 1em;margin:.5em}form.heart.calling .description .editor-content{font-size:1.7em !important;line-height:1em;background:rgba(0,0,0,.1);min-height:6.5em;padding:.5em;text-align:center}form.heart.calling li .action{padding:.2em}form.heart.calling .action{flex:auto 0 0}form.heart.calling p{margin:0}form.heart.calling p+p{margin-top:.2em}form.heart.calling .flexrow{align-content:center}form.heart.calling .right{flex:auto 0 0}form.heart.calling .question{font-weight:bold;font-style:italic}form.heart.calling .question .editor-content{min-height:7em !important}form.heart.calling .name{text-transform:uppercase;font-weight:bold;color:#630000}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 979:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.fallout-roll .dice-total{font-family:\"MelmaCracked\"}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 107:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.heart-roll .dice-total{font-family:\"MelmaCracked\"}.heart.heart-roll .dice-tooltip{text-align:center;display:flex;flex-flow:row wrap;align-items:flex-end}.heart.heart-roll .dice-tooltip .tooltip-part{flex:33% 1 1;text-align:center}.heart.heart-roll .dice-tooltip .tooltip-part .dice-rolls{text-align:center;display:flex;flex-flow:row wrap;justify-content:center}.heart.heart-roll+.heart.heart-roll{margin-top:.5em}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 361:
/***/ ((module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Z": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(761);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(function(i){return i[1]});
// Module
___CSS_LOADER_EXPORT___.push([module.id, ".heart.dice-roll .flexrow .dice-total{flex:1;display:flex;place-items:center;place-content:center}.heart.dice-roll .flexrow .icon-button{padding:0;flex:1em 0 0}.heart.dice-roll .flexrow .icon-button+.icon-button{margin:0}", ""]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ 695:
/***/ ((module) => {



var memo = {};
/* istanbul ignore next  */

function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself

    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }

    memo[target] = styleTarget;
  }

  return memo[target];
}

module.exports = getTarget;

/***/ }),

/***/ 379:
/***/ ((module) => {



var stylesInDom = [];

function getIndexByIdentifier(identifier) {
  var result = -1;

  for (var i = 0; i < stylesInDom.length; i++) {
    if (stylesInDom[i].identifier === identifier) {
      result = i;
      break;
    }
  }

  return result;
}

function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];

  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var index = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3]
    };

    if (index !== -1) {
      stylesInDom[index].references++;
      stylesInDom[index].updater(obj);
    } else {
      stylesInDom.push({
        identifier: identifier,
        updater: addStyle(obj, options),
        references: 1
      });
    }

    identifiers.push(identifier);
  }

  return identifiers;
}

function addStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  return function updateStyle(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {
        return;
      }

      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
}

module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];

    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDom[index].references--;
    }

    var newLastIdentifiers = modulesToDom(newList, options);

    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];

      var _index = getIndexByIdentifier(_identifier);

      if (stylesInDom[_index].references === 0) {
        stylesInDom[_index].updater();

        stylesInDom.splice(_index, 1);
      }
    }

    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ 216:
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var style = document.createElement("style");
  options.setAttributes(style, options.attributes);
  options.insert(style);
  return style;
}

module.exports = insertStyleElement;

/***/ }),

/***/ 795:
/***/ ((module) => {



/* istanbul ignore next  */
function apply(style, options, obj) {
  var css = obj.css;
  var media = obj.media;
  var sourceMap = obj.sourceMap;

  if (media) {
    style.setAttribute("media", media);
  } else {
    style.removeAttribute("media");
  }

  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  } // For old IE

  /* istanbul ignore if  */


  options.styleTagTransform(css, style);
}

function removeStyleElement(style) {
  // istanbul ignore if
  if (style.parentNode === null) {
    return false;
  }

  style.parentNode.removeChild(style);
}
/* istanbul ignore next  */


function domAPI(options) {
  var style = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(style, options, obj);
    },
    remove: function remove() {
      removeStyleElement(style);
    }
  };
}

module.exports = domAPI;

/***/ }),

/***/ 761:
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
// eslint-disable-next-line func-names
module.exports = function (cssWithMappingToString) {
  var list = []; // return the list of modules as css string

  list.toString = function toString() {
    return this.map(function (item) {
      var content = cssWithMappingToString(item);

      if (item[2]) {
        return "@media ".concat(item[2], " {").concat(content, "}");
      }

      return content;
    }).join("");
  }; // import a list of modules into the list
  // eslint-disable-next-line func-names


  list.i = function (modules, mediaQuery, dedupe) {
    if (typeof modules === "string") {
      // eslint-disable-next-line no-param-reassign
      modules = [[null, modules, ""]];
    }

    var alreadyImportedModules = {};

    if (dedupe) {
      for (var i = 0; i < this.length; i++) {
        // eslint-disable-next-line prefer-destructuring
        var id = this[i][0];

        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }

    for (var _i = 0; _i < modules.length; _i++) {
      var item = [].concat(modules[_i]);

      if (dedupe && alreadyImportedModules[item[0]]) {
        // eslint-disable-next-line no-continue
        continue;
      }

      if (mediaQuery) {
        if (!item[2]) {
          item[2] = mediaQuery;
        } else {
          item[2] = "".concat(mediaQuery, " and ").concat(item[2]);
        }
      }

      list.push(item);
    }
  };

  return list;
};

/***/ }),

/***/ 80:
/***/ ((module) => {



module.exports = function (url, options) {
  if (!options) {
    // eslint-disable-next-line no-param-reassign
    options = {};
  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign


  url = url && url.__esModule ? url.default : url;

  if (typeof url !== "string") {
    return url;
  } // If url is already wrapped in quotes, remove them


  if (/^['"].*['"]$/.test(url)) {
    // eslint-disable-next-line no-param-reassign
    url = url.slice(1, -1);
  }

  if (options.hash) {
    // eslint-disable-next-line no-param-reassign
    url += options.hash;
  } // Should url be wrapped?
  // See https://drafts.csswg.org/css-values-3/#urls


  if (/["'() \t\n]/.test(url) || options.needQuotes) {
    return "\"".concat(url.replace(/"/g, '\\"').replace(/\n/g, "\\n"), "\"");
  }

  return url;
};

/***/ }),

/***/ 662:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// NAMESPACE OBJECT: ./src/actors/adversary/sheet.html
var sheet_namespaceObject = {};
__webpack_require__.r(sheet_namespaceObject);
__webpack_require__.d(sheet_namespaceObject, {
  "default": () => (sheet)
});

// NAMESPACE OBJECT: ./src/actors/base/sheet.html
var base_sheet_namespaceObject = {};
__webpack_require__.r(base_sheet_namespaceObject);
__webpack_require__.d(base_sheet_namespaceObject, {
  "default": () => (base_sheet)
});

// NAMESPACE OBJECT: ./src/actors/character/sheet.html
var character_sheet_namespaceObject = {};
__webpack_require__.r(character_sheet_namespaceObject);
__webpack_require__.d(character_sheet_namespaceObject, {
  "default": () => (character_sheet)
});

// NAMESPACE OBJECT: ./src/actors/delve/sheet.html
var delve_sheet_namespaceObject = {};
__webpack_require__.r(delve_sheet_namespaceObject);
__webpack_require__.d(delve_sheet_namespaceObject, {
  "default": () => (delve_sheet)
});

// NAMESPACE OBJECT: ./src/actors/landmark/sheet.html
var landmark_sheet_namespaceObject = {};
__webpack_require__.r(landmark_sheet_namespaceObject);
__webpack_require__.d(landmark_sheet_namespaceObject, {
  "default": () => (landmark_sheet)
});

// NAMESPACE OBJECT: ./src/applications/base/application.html
var application_namespaceObject = {};
__webpack_require__.r(application_namespaceObject);
__webpack_require__.d(application_namespaceObject, {
  "default": () => (application)
});

// NAMESPACE OBJECT: ./src/applications/prepare-roll-request/application.html
var prepare_roll_request_application_namespaceObject = {};
__webpack_require__.r(prepare_roll_request_application_namespaceObject);
__webpack_require__.d(prepare_roll_request_application_namespaceObject, {
  "default": () => (prepare_roll_request_application)
});

// NAMESPACE OBJECT: ./src/applications/prepare-roll-request/chat-message.html
var chat_message_namespaceObject = {};
__webpack_require__.r(chat_message_namespaceObject);
__webpack_require__.d(chat_message_namespaceObject, {
  "default": () => (chat_message)
});

// NAMESPACE OBJECT: ./src/applications/requirement-form/application.html
var requirement_form_application_namespaceObject = {};
__webpack_require__.r(requirement_form_application_namespaceObject);
__webpack_require__.d(requirement_form_application_namespaceObject, {
  "default": () => (requirement_form_application)
});

// NAMESPACE OBJECT: ./src/common/sheet.html
var common_sheet_namespaceObject = {};
__webpack_require__.r(common_sheet_namespaceObject);
__webpack_require__.d(common_sheet_namespaceObject, {
  "default": () => (common_sheet)
});

// NAMESPACE OBJECT: ./src/items/ability/sheet.html
var ability_sheet_namespaceObject = {};
__webpack_require__.r(ability_sheet_namespaceObject);
__webpack_require__.d(ability_sheet_namespaceObject, {
  "default": () => (ability_sheet)
});

// NAMESPACE OBJECT: ./src/items/base/sheet.html
var items_base_sheet_namespaceObject = {};
__webpack_require__.r(items_base_sheet_namespaceObject);
__webpack_require__.d(items_base_sheet_namespaceObject, {
  "default": () => (items_base_sheet)
});

// NAMESPACE OBJECT: ./src/items/beat/sheet.html
var beat_sheet_namespaceObject = {};
__webpack_require__.r(beat_sheet_namespaceObject);
__webpack_require__.d(beat_sheet_namespaceObject, {
  "default": () => (beat_sheet)
});

// NAMESPACE OBJECT: ./src/items/calling/sheet.html
var calling_sheet_namespaceObject = {};
__webpack_require__.r(calling_sheet_namespaceObject);
__webpack_require__.d(calling_sheet_namespaceObject, {
  "default": () => (calling_sheet)
});

// NAMESPACE OBJECT: ./src/items/equipment/sheet.html
var equipment_sheet_namespaceObject = {};
__webpack_require__.r(equipment_sheet_namespaceObject);
__webpack_require__.d(equipment_sheet_namespaceObject, {
  "default": () => (equipment_sheet)
});

// NAMESPACE OBJECT: ./src/items/fallout/sheet.html
var fallout_sheet_namespaceObject = {};
__webpack_require__.r(fallout_sheet_namespaceObject);
__webpack_require__.d(fallout_sheet_namespaceObject, {
  "default": () => (fallout_sheet)
});

// NAMESPACE OBJECT: ./src/items/haunt/sheet.html
var haunt_sheet_namespaceObject = {};
__webpack_require__.r(haunt_sheet_namespaceObject);
__webpack_require__.d(haunt_sheet_namespaceObject, {
  "default": () => (haunt_sheet)
});

// NAMESPACE OBJECT: ./src/items/resource/sheet.html
var resource_sheet_namespaceObject = {};
__webpack_require__.r(resource_sheet_namespaceObject);
__webpack_require__.d(resource_sheet_namespaceObject, {
  "default": () => (resource_sheet)
});

// NAMESPACE OBJECT: ./src/rolls/fallout-roll/roll.html
var roll_namespaceObject = {};
__webpack_require__.r(roll_namespaceObject);
__webpack_require__.d(roll_namespaceObject, {
  "default": () => (roll)
});

// NAMESPACE OBJECT: ./src/rolls/heart-roll/roll.html
var heart_roll_roll_namespaceObject = {};
__webpack_require__.r(heart_roll_roll_namespaceObject);
__webpack_require__.d(heart_roll_roll_namespaceObject, {
  "default": () => (heart_roll_roll)
});

// NAMESPACE OBJECT: ./src/rolls/heart-roll/tooltip.html
var tooltip_namespaceObject = {};
__webpack_require__.r(tooltip_namespaceObject);
__webpack_require__.d(tooltip_namespaceObject, {
  "default": () => (tooltip)
});

// NAMESPACE OBJECT: ./src/rolls/stress-roll/roll.html
var stress_roll_roll_namespaceObject = {};
__webpack_require__.r(stress_roll_roll_namespaceObject);
__webpack_require__.d(stress_roll_roll_namespaceObject, {
  "default": () => (stress_roll_roll)
});

// NAMESPACE OBJECT: ./src/actors/base/sheet.js
var src_actors_base_sheet_namespaceObject = {};
__webpack_require__.r(src_actors_base_sheet_namespaceObject);
__webpack_require__.d(src_actors_base_sheet_namespaceObject, {
  "default": () => (HeartActorSheet)
});

// NAMESPACE OBJECT: ./src/actors/adversary/sheet.js
var adversary_sheet_namespaceObject = {};
__webpack_require__.r(adversary_sheet_namespaceObject);
__webpack_require__.d(adversary_sheet_namespaceObject, {
  "default": () => (EquipmentSheet)
});

// NAMESPACE OBJECT: ./src/actors/character/sheet.js
var actors_character_sheet_namespaceObject = {};
__webpack_require__.r(actors_character_sheet_namespaceObject);
__webpack_require__.d(actors_character_sheet_namespaceObject, {
  "default": () => (CharacterSheet)
});

// NAMESPACE OBJECT: ./src/actors/delve/sheet.js
var actors_delve_sheet_namespaceObject = {};
__webpack_require__.r(actors_delve_sheet_namespaceObject);
__webpack_require__.d(actors_delve_sheet_namespaceObject, {
  "default": () => (DelveSheet)
});

// NAMESPACE OBJECT: ./src/actors/landmark/sheet.js
var actors_landmark_sheet_namespaceObject = {};
__webpack_require__.r(actors_landmark_sheet_namespaceObject);
__webpack_require__.d(actors_landmark_sheet_namespaceObject, {
  "default": () => (LandmarkSheet)
});

// NAMESPACE OBJECT: ./src/actors/character/proxy.js
var proxy_namespaceObject = {};
__webpack_require__.r(proxy_namespaceObject);
__webpack_require__.d(proxy_namespaceObject, {
  "default": () => (Character)
});

// NAMESPACE OBJECT: ./src/actors/index.js
var actors_namespaceObject = {};
__webpack_require__.r(actors_namespaceObject);
__webpack_require__.d(actors_namespaceObject, {
  "initialise": () => (initialise)
});

// NAMESPACE OBJECT: ./src/applications/base/application.js
var base_application_namespaceObject = {};
__webpack_require__.r(base_application_namespaceObject);
__webpack_require__.d(base_application_namespaceObject, {
  "default": () => (HeartApplication)
});

// NAMESPACE OBJECT: ./src/applications/prepare-roll-request/application.js
var applications_prepare_roll_request_application_namespaceObject = {};
__webpack_require__.r(applications_prepare_roll_request_application_namespaceObject);
__webpack_require__.d(applications_prepare_roll_request_application_namespaceObject, {
  "default": () => (PrepareRollRequestApplication)
});

// NAMESPACE OBJECT: ./src/applications/requirement-form/application.js
var applications_requirement_form_application_namespaceObject = {};
__webpack_require__.r(applications_requirement_form_application_namespaceObject);
__webpack_require__.d(applications_requirement_form_application_namespaceObject, {
  "default": () => (RequirementApplication)
});

// NAMESPACE OBJECT: ./src/applications/index.js
var applications_namespaceObject = {};
__webpack_require__.r(applications_namespaceObject);
__webpack_require__.d(applications_namespaceObject, {
  "initialise": () => (applications_initialise)
});

// NAMESPACE OBJECT: ./src/chat-messages/index.js
var chat_messages_namespaceObject = {};
__webpack_require__.r(chat_messages_namespaceObject);
__webpack_require__.d(chat_messages_namespaceObject, {
  "initialise": () => (chat_messages_initialise)
});

// NAMESPACE OBJECT: ./src/items/base/sheet.js
var src_items_base_sheet_namespaceObject = {};
__webpack_require__.r(src_items_base_sheet_namespaceObject);
__webpack_require__.d(src_items_base_sheet_namespaceObject, {
  "default": () => (HeartItemSheet)
});

// NAMESPACE OBJECT: ./src/items/ability/sheet.js
var items_ability_sheet_namespaceObject = {};
__webpack_require__.r(items_ability_sheet_namespaceObject);
__webpack_require__.d(items_ability_sheet_namespaceObject, {
  "data": () => (data)
});

// NAMESPACE OBJECT: ./src/items/beat/sheet.js
var items_beat_sheet_namespaceObject = {};
__webpack_require__.r(items_beat_sheet_namespaceObject);
__webpack_require__.d(items_beat_sheet_namespaceObject, {
  "data": () => (sheet_data)
});

// NAMESPACE OBJECT: ./src/items/calling/sheet.js
var src_items_calling_sheet_namespaceObject = {};
__webpack_require__.r(src_items_calling_sheet_namespaceObject);
__webpack_require__.d(src_items_calling_sheet_namespaceObject, {
  "data": () => (calling_sheet_data),
  "default": () => (src_items_calling_sheet_0)
});

// NAMESPACE OBJECT: ./src/items/equipment/sheet.js
var items_equipment_sheet_namespaceObject = {};
__webpack_require__.r(items_equipment_sheet_namespaceObject);
__webpack_require__.d(items_equipment_sheet_namespaceObject, {
  "data": () => (equipment_sheet_data),
  "initialise": () => (sheet_initialise)
});

// NAMESPACE OBJECT: ./src/items/fallout/sheet.js
var items_fallout_sheet_namespaceObject = {};
__webpack_require__.r(items_fallout_sheet_namespaceObject);
__webpack_require__.d(items_fallout_sheet_namespaceObject, {
  "data": () => (fallout_sheet_data)
});

// NAMESPACE OBJECT: ./src/items/haunt/sheet.js
var items_haunt_sheet_namespaceObject = {};
__webpack_require__.r(items_haunt_sheet_namespaceObject);
__webpack_require__.d(items_haunt_sheet_namespaceObject, {
  "data": () => (haunt_sheet_data)
});

// NAMESPACE OBJECT: ./src/items/resource/sheet.js
var items_resource_sheet_namespaceObject = {};
__webpack_require__.r(items_resource_sheet_namespaceObject);
__webpack_require__.d(items_resource_sheet_namespaceObject, {
  "data": () => (resource_sheet_data)
});

// NAMESPACE OBJECT: ./src/items/index.js
var items_namespaceObject = {};
__webpack_require__.r(items_namespaceObject);
__webpack_require__.d(items_namespaceObject, {
  "initialise": () => (items_initialise)
});

// NAMESPACE OBJECT: ./src/rolls/fallout-roll/roll.js
var rolls_fallout_roll_roll_namespaceObject = {};
__webpack_require__.r(rolls_fallout_roll_roll_namespaceObject);
__webpack_require__.d(rolls_fallout_roll_roll_namespaceObject, {
  "default": () => (FalloutRoll),
  "initialise": () => (roll_initialise)
});

// NAMESPACE OBJECT: ./src/rolls/heart-roll/roll.js
var src_rolls_heart_roll_roll_namespaceObject = {};
__webpack_require__.r(src_rolls_heart_roll_roll_namespaceObject);
__webpack_require__.d(src_rolls_heart_roll_roll_namespaceObject, {
  "default": () => (HeartRoll),
  "initialise": () => (heart_roll_roll_initialise)
});

// NAMESPACE OBJECT: ./src/rolls/item-roll/roll.js
var item_roll_roll_namespaceObject = {};
__webpack_require__.r(item_roll_roll_namespaceObject);
__webpack_require__.d(item_roll_roll_namespaceObject, {
  "default": () => (ItemRoll)
});

// NAMESPACE OBJECT: ./src/rolls/stress-roll/roll.js
var rolls_stress_roll_roll_namespaceObject = {};
__webpack_require__.r(rolls_stress_roll_roll_namespaceObject);
__webpack_require__.d(rolls_stress_roll_roll_namespaceObject, {
  "default": () => (StressRoll)
});

// NAMESPACE OBJECT: ./src/rolls/index.js
var rolls_namespaceObject = {};
__webpack_require__.r(rolls_namespaceObject);
__webpack_require__.d(rolls_namespaceObject, {
  "initialise": () => (rolls_initialise)
});

// NAMESPACE OBJECT: ./src/index.js
var src_namespaceObject_0 = {};
__webpack_require__.r(src_namespaceObject_0);

;// CONCATENATED MODULE: ./src/actors/adversary/sheet.html
/* harmony default export */ const sheet = ({"path":"heart:actors/adversary/sheet.html","source":"{{> \"heart:actors/base/sheet.html\" type=\"adversary\"}}"});
;// CONCATENATED MODULE: ./src/actors/base/sheet.html
/* harmony default export */ const base_sheet = ({"path":"heart:actors/base/sheet.html","source":"{{#> \"heart:common/sheet.html\" documentName=\"actor\" type=type}}\n    {{editor content=data.data.description target=\"data.description\" button=true editable=editable owner=owner}}\n{{/ \"heart:common/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/actors/character/sheet.html
/* harmony default export */ const character_sheet = ({"path":"heart:actors/character/sheet.html","source":"{{#*inline \"itemList\"}}\n    {{#with (lookup actor.itemTypes type) as |list|}}\n    {{#if list.length}}\n    <div class=\"item-list\">\n        {{#each list as |item|}}\n            <div data-item-id=\"{{item.data._id}}\" class=\"flexrow item\">\n                <div>\n                    {{> @partial-block item=item }}\n                </div>\n            \n                <div class=\"right\">\n                    <a data-action=\"view\"><span class=\"fas fa-eye\"></span></a>\n                    {{#if item.isOwner}}\n                    <a data-action=\"delete\"><span class=\"fas fa-trash\"></span></a>\n                    {{/if}}\n                </div>\n            </div>\n        {{/each}}\n    </div>\n    {{/if}}\n    {{/with}}\n{{/inline}}\n<div>\n<div class=\"heart flexrow buttons sticky\">\n    <button data-action=\"prepare-request-roll\"><span class=\"fas fa-dice\"></span> {{localizeHeart \"perform\" \"request-roll\"}}</button>\n    <button data-action=\"roll\"><span class=\"fas fa-dice\"></span> {{localizeHeart \"perform\" \"roll\"}}</button>\n    <button data-action=\"stress-roll\"><span class=\"fas fa-dice\"></span> {{localizeHeart \"perform\" \"roll-stress\"}}</button>\n    <button data-action=\"fallout-roll\"><span class=\"fas fa-dice\"></span> {{localizeHeart \"perform\" \"roll-fallout\"}}</button>\n</div>\n<form class=\"heart sheet actor character {{cssClass}}\" autocomplete=\"off\">\n    <div class=\"grid-2 place-top\">\n        <img class=\"profile\" src=\"{{data.img}}\" title=\"{{actor.name}}\" data-edit=\"img\"/>\n        <div class=\"grid-3 resistances place-top\">\n            <div></div>\n            <div></div>\n            <h3 class=\"center\">{{localizeHeart \"resistance\" \"protection\" \"label-multiple\"}}</h3>\n            {{#each actor.data.data.resistances as |resistance name|}}\n                <h3 class=\"left\">{{localizeHeart \"resistance\" name}}</h3>\n                <div class=\"red\" data-target='data.resistances.{{name}}.value'>{{{ordered-checkable resistance.value 10}}}</div>\n                <div class=\"red\" data-target='data.resistances.{{name}}.protection'>{{{ordered-checkable resistance.protection 5}}}</div>\n            {{/each}}\n        </div>\n        <div class=\"info\">\n            <div class=\"grid-2 auto-first-col place-center\">\n                <h2>{{localizeHeart \"character\" \"name\"}}</h2>\n                <input name=\"name\" value=\"{{actor.name}}\"/>\n                <h2>{{localizeHeart \"character\" \"class\"}}</h2>\n                <input name=\"data.class\" value=\"{{actor.data.data.class}}\"/>\n                <h2>{{localizeHeart \"character\" \"calling\"}}</h2>\n                {{#if callingItem}}\n                <div data-item-id=\"{{callingItem.data._id}}\" class=\"flexrow calling item\">\n                    <div class=\"name\">{{callingItem.name}}</div>\n                    <div class=\"right\">\n                        <a data-action=\"view\"><span class=\"fas fa-eye\"></span></a>\n                        {{#if callingItem.isOwner}}\n                        <a data-action=\"delete\"><span class=\"fas fa-trash\"></span></a>\n                        {{/if}}\n                    </div>\n                </div>\n                {{else}}\n                <input name=\"data.calling\" value=\"{{actor.data.data.calling}}\"/>\n                {{/if}}\n            </div>\n        </div>\n        <div class=\"beats\">\n            <h2>\n                {{localizeHeart \"beat\" \"active\" \"label-multiple\"}}\n                {{#if actor.isOwner}}\n                <div class=\"right\">\n                    <a data-action=\"add\" data-type=\"beat\"><span class=\"fas fa-plus\"></span></a>\n                </div>\n                {{/if}}\n            </h2>\n            {{#> itemList type=\"beat\" actor=actor}}\n            {{{item.data.data.description}}}\n            {{/itemList}}\n            <div class=\"item-list\">\n            {{#each callingItem.data.data.children as |beat|}}\n                {{#if (and (eq beat.type \"beat\") beat.data.active (not beat.data.completed))}}\n                <div data-item-id=\"{{beat.data._id}}\" class=\"flexrow item\">\n                <div>{{{beat.data.description}}}</div>\n                \n                <div class=\"right\">\n                    <a data-action=\"view\"><span class=\"fas fa-eye\"></span></a>\n                    {{#if ../actor.isOwner}}\n                    <a data-action=\"delete\"><span class=\"fas fa-trash\"></span></a>\n                    {{/if}}\n                </div>\n                </div>\n                {{/if}}\n            {{/each}}\n        </div>\n            {{editor content=actor.data.data.active_beats target=\"data.active_beats\" button=true editable=editable owner=owner}}\n        </div>\n        \n        <div class=\"equipment\">\n            <h2>{{localizeHeart \"equipment\" \"label-multiple\"}}\n                {{#if actor.isOwner}}\n                <div class=\"right\">\n                    <a data-action=\"add\" data-type=\"equipment\"><span class=\"fas fa-plus\"></span></a>\n                </div>\n                {{/if}}\n            </h2>\n            {{#> itemList type=\"equipment\"  actor=actor}}\n                {{item.name}}\n                ({{localizeHeart \"equipment\" \"type\" item.data.data.type}}, <a data-action=\"item-roll\"><span class=\"fas fa-dice\"></span> {{item.data.data.di_size}}</a>\n                {{#if item.data.data.tags.length}}\n                , {{join \", \" array=item.data.data.tags}}\n                {{/if}})\n            {{/itemList}}\n            {{editor content=actor.data.data.equipment target=\"data.equipment\" button=true editable=editable owner=owner}}\n        </div>\n\n        <div class=\"resources\">\n            <h2>{{localizeHeart \"resource\" \"label-multiple\"}}\n                {{#if actor.isOwner}}\n                <div class=\"top right\">\n                    <a data-action=\"add\" data-type=\"resource\"><span class=\"fas fa-plus\"></span></a>\n                </div>\n                {{/if}}\n            </h2>\n            {{#> itemList type=\"resource\" actor=actor}}\n            {{item.name}}\n            (<a data-action=\"item-roll\"><span class=\"fas fa-dice\"></span> {{item.data.data.di_size}}</a>, {{localizeHeart \"domain\" item.data.data.domain}}\n            {{#if item.data.data.tags.length}}\n            , {{join \", \"  array=item.data.data.tags}}\n            {{/if}})\n            {{/itemList}}\n            {{editor content=actor.data.data.resources target=\"data.resources\" button=true editable=editable owner=owner}}\n        </div>\n        <div class=\"abilities\">\n            <h2>\n                {{localizeHeart \"ability\"  \"label-multiple\"}}\n                {{#if actor.isOwner}}\n                <div class=\"top right\">\n                    <a data-action=\"add\" data-type=\"ability\"><span class=\"fas fa-plus\"></span></a>\n                </div>\n                {{/if}}\n            </h2>\n            \n            {{#> itemList type=\"ability\" actor=actor}}\n            {{item.name}}\n            {{/itemList}}\n            {{editor content=actor.data.data.abilities target=\"data.abilities\" button=true editable=editable owner=owner}}\n        </div>\n\n        <div class=\"fallout\">\n            <h2>\n                {{localizeHeart \"fallout\" \"label-multiple\"}}\n                {{#if actor.isOwner}}\n                <div class=\"top right\">\n                    <a data-action=\"add\" data-type=\"fallout\"><span class=\"fas fa-plus\"></span></a>\n                </div>\n                {{/if}}\n            </h2>\n            {{#> itemList type=\"fallout\" actor=actor}}\n            {{item.name}}\n            {{/itemList}}\n            {{editor content=actor.data.data.fallout target=\"data.fallout\" button=true editable=editable owner=owner}}\n        </div>\n\n        <div class=\"skills grid-2 auto-first-col\">\n            <h3 class=\"center\">{{localizeHeart \"skill\" \"label-multiple\"}}</h3>\n            <h3 class=\"faded\">{{localizeHeart \"skill\" \"knack\" \"label-multiple\"}}</h3>\n            {{#each actor.data.data.skills as |skill name|}}\n                <div class=\"flexrow\">\n                    <input type=\"checkbox\" name=\"data.skills.{{name}}.value\" {{checked skill.value}}/>\n                    <span class=\"bold\">{{localizeHeart \"skill\" name}}</span>\n                </div>\n                <input name=\"data.skills.{{name}}.knack\" value=\"{{skill.knack}}\"/>\n            {{/each}}\n        </div>\n\n        <div class=\"domains grid-2 auto-first-col\">\n            <h3 class=\"center\">{{localizeHeart \"domain\" \"label-multiple\"}}</h3>\n            <h3 class=\"faded\">{{localizeHeart \"domain\" \"knack\" \"label-multiple\"}}</h3>\n            {{#each actor.data.data.domains as |domain name|}}\n                <div class=\"flexrow\">\n                    <input type=\"checkbox\" name=\"data.domains.{{name}}.value\" {{checked domain.value}}/>\n                    <span class=\"bold\">{{localizeHeart \"domain\" name}}</span>\n                </div>\n                <input name=\"data.domains.{{name}}.knack\" value=\"{{domain.knack}}\"/>\n            {{/each}}\n        </div>\n        \n        <h3 class=\"center wide\">{{localizeHeart \"character\" \"notes\"}}</h3>\n        <div class=\"wide\">\n            {{editor content=actor.data.data.notes target=\"data.notes\" button=true editable=editable owner=owner}}\n        </div>\n    </div>\n</form>\n</div>"});
;// CONCATENATED MODULE: ./src/actors/delve/sheet.html
/* harmony default export */ const delve_sheet = ({"path":"heart:actors/delve/sheet.html","source":"{{> \"heart:actors/base/sheet.html\" type=\"delve\"}}"});
;// CONCATENATED MODULE: ./src/actors/landmark/sheet.html
/* harmony default export */ const landmark_sheet = ({"path":"heart:actors/landmark/sheet.html","source":"{{> \"heart:actors/base/sheet.html\" type=\"landmark\"}}"});
;// CONCATENATED MODULE: ./src/applications/base/application.html
/* harmony default export */ const application = ({"path":"heart:applications/base/application.html","source":"<form class=\"heart form {{type}} {{classes}} grid-2 auto-first-col\">\n    <div class=\"wide description\">\n    {{localizeHeart \"applications\" type \"description\"}}\n    </div>\n    {{> @partial-block}}\n    <div class=\"wide grid-2\">\n        <button data-action='cancel'><span class=\"fas fa-times\"></span> {{localizeHeart 'cancel'}}</button>\n        <button data-action='submit'><span class=\"fas fa-dice\"></span> {{localizeHeart 'roll'}}</button>\n    </div>\n</form>"});
;// CONCATENATED MODULE: ./src/applications/prepare-roll-request/application.html
/* harmony default export */ const prepare_roll_request_application = ({"path":"heart:applications/prepare-roll-request/application.html","source":"{{#> \"heart:applications/base/application.html\" type=\"prepare-roll-request\"}}\n<label>\n    {{localizeHeart \"difficulty\" \"label-single\"}}\n</label>\n<select name=\"difficulty\">\n    {{selectOptions difficulties}}\n</select>\n\n<label>\n    {{localizeHeart \"character\" \"label-multiple\"}}\n</label>\n<div class=\"options\">\n    {{#each characters as |character char_id|}}\n    {{#with (randomID) as |id|}}\n    <input class=\"hidden\" type=\"checkbox\" id=\"{{id}}\" name=\"character\" value=\"{{char_id}}\" checked/>\n    <label for=\"{{id}}\" class=\"option\">\n        {{character}}\n    </label>\n    {{/with}}\n    {{/each}}\n</div>\n\n<label>\n    {{localizeHeart \"skill\" \"label-multiple\"}}\n</label>\n<div class=\"options\">\n    {{#each skills as |skill name|}}\n    {{#with (randomID) as |id|}}\n    <input class=\"hidden\" type=\"checkbox\" id=\"{{id}}\" name=\"skill\" value=\"{{name}}\"/>\n    <label for=\"{{id}}\" class=\"option\">\n        {{skill}}\n    </label>\n    {{/with}}\n    {{/each}}\n</div>\n\n\n<label>\n    {{localizeHeart \"domain\" \"label-multiple\"}}\n</label>\n<div class=\"options\">\n    {{#each domains as |domain name|}}\n    {{#with (randomID) as |id|}}\n    <input class=\"hidden\" type=\"checkbox\" id=\"{{id}}\" name=\"domain\" value=\"{{name}}\"/>\n    <label for=\"{{id}}\" class=\"option\">\n        {{domain}}\n    </label>\n    {{/with}}\n    {{/each}}\n</div>\n\n<label>\n    {{localizeHeart \"character\" \"label-valid-helpers\"}}\n</label>\n<div class=\"options\">\n    {{#each characters as |character char_id|}}\n    {{#with (randomID) as |id|}}\n    <input class=\"hidden\" type=\"checkbox\" id=\"{{id}}\" name=\"helper\" value=\"{{char_id}}\" checked/>\n    <label for=\"{{id}}\" class=\"option\">\n        {{character}}\n    </label>\n    {{/with}}\n    {{/each}}\n</div>\n{{/ \"heart:applications/base/application.html\"}}"});
;// CONCATENATED MODULE: ./src/applications/prepare-roll-request/chat-message.html
/* harmony default export */ const chat_message = ({"path":"heart:applications/prepare-roll-request/chat-message.html","source":"<form class=\"heart roll-request grid-2 auto-first-col place-center\">\n    <h1 class=\"wide title-font \">{{localizeHeart \"rolls\" \"roll-request\" \"label\"}}</h1>\n    <label class=\"title-font\">{{localizeHeart \"difficulty\" \"label-single\"}}</label>\n    <div>\n        {{localizeHeart \"difficulty\" difficulty}}\n        <input type=\"hidden\" name=\"difficulty\" value=\"{{difficulty}}\"/>\n    </div>\n\n    <label class=\"title-font\">{{localizeHeart \"skill\" \"label-single\"}}</label>\n    {{#if (lt skills.length 2)}}\n        {{#if (eq skills.length 1)}}\n            <div>\n                {{localizeHeart \"skill\" (lookup skills 0)}}\n                <input type=\"hidden\" name=\"skill\" value=\"{{lookup skills 0}}\"/>\n            </div>\n        {{else}}\n            <div>{{localizeHeart \"none\"}}</div>\n        {{/if}}\n    {{else}}\n    <select name=\"skill\">\n        {{#each skills as |skill|}}\n        <option value=\"{{skill}}\">{{localizeHeart \"skill\" skill}}</option>\n        {{/each}}\n    </select>\n    {{/if}}\n\n    <label class=\"title-font\">{{localizeHeart \"domain\" \"label-single\"}}</label>\n    {{#if (lt domains.length 2)}}\n        {{#if (eq domains.length 1)}}\n        <div>\n            {{localizeHeart \"domain\" (lookup domains 0)}}\n            <input type=\"hidden\" name=\"domain\" value=\"{{lookup domains 0}}\"/>\n        </div>\n        {{else}}\n            <div>{{localizeHeart \"none\"}}</div>\n        {{/if}}\n    {{else}}\n    <select name=\"domain\">\n        {{#each domains as |domain|}}\n        <option value=\"{{domain}}\">{{localizeHeart \"domain\" domain}}</option>\n        {{/each}}\n    </select>\n    {{/if}}\n\n    <label class=\"title-font\">{{localizeHeart \"mastery\" \"short\"}}</label>\n    <input class=\"invert\" type=\"checkbox\" name=\"mastery\"/>\n\n    <label class=\"title-font\">{{localizeHeart \"help\"}}</label>\n    {{#if validHelpers}}\n    <select name=\"helper\" multiple>\n        {{#each validHelpers as |helper_id|}}\n        {{#with (getActor helper_id) as |actor|}}\n        <option value=\"{{helper_id}}\">{{actor.name}}</option>\n        {{/with}}\n        {{/each}}\n    </select>\n    {{else}}\n    <div>{{localizeHeart \"none\"}}</div>\n    {{/if}}\n\n    <div class=\"wide\">\n        {{#each characters as |character|}}\n        {{#with (getActor character) as |actor|}}\n        {{#if actor.isOwner}}\n            <button data-action=\"roll\" data-character=\"{{character}}\"> <span class=\"fas fa-dice\"></span> {{actor.name}}</button>\n        {{/if}}\n        {{/with}}\n        {{/each}}\n    </div>\n</form>"});
;// CONCATENATED MODULE: ./src/applications/requirement-form/application.html
/* harmony default export */ const requirement_form_application = ({"path":"heart:applications/requirement-form/application.html","source":"{{#> \"heart:applications/base/application.html\" type=options.type}}\n{{#each options.requirements as |entry name|}}\n<label>\n    {{entry.label}}\n</label>\n{{#if entry.isCheckbox}}\n    <input type=\"checkbox\" name=\"{{name}}\" value=\"{{entry.value}}\"/>\n{{else}}\n    <select name=\"{{name}}\" {{#if entry.isMany}}multiple{{/if}}>\n        {{#each entry.options as |label value|}}\n            <option value=\"{{value}}\">{{label}}</option>\n        {{/each}}\n    </select>\n{{/if}}\n{{/each}}\n{{/ \"heart:applications/base/application.html\"}}"});
;// CONCATENATED MODULE: ./src/common/sheet.html
/* harmony default export */ const common_sheet = ({"path":"heart:common/sheet.html","source":"<form class=\"heart sheet base {{documentName}} {{type}} {{cssClass}} flexcol\" autocomplete=\"off\">\n    <div class=\"info\">\n        <img class=\"profile\" src=\"{{data.img}}\" title=\"{{data.name}}\" data-edit=\"img\" />\n        <div class=\"text\">\n            <input name=\"name\" value=\"{{data.name}}\" placeholder=\"{{localizeHeart type 'name'}}\" />\n            <div class=\"subtitle\">{{localizeHeart type \"label-single\"}}</div>        \n        </div>\n    </div>\n    {{> @partial-block }}\n</form>"});
;// CONCATENATED MODULE: ./src/items/ability/sheet.html
/* harmony default export */ const ability_sheet = ({"path":"heart:items/ability/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"ability\"}}\n{{/ \"heart:items/base/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/base/sheet.html
/* harmony default export */ const items_base_sheet = ({"path":"heart:items/base/sheet.html","source":"{{#> \"heart:common/sheet.html\" documentName=\"item\" type=type}}\n    {{log this}}\n    {{#if data.data.di_size}}\n    <div class=\"grid-2 auto-first-col place-center\" style=\"flex: auto 0 0\">\n        <label>\n            {{localizeHeart \"di_size\" \"label-single\"}}\n        </label>\n        {{#if editable}}\n        <select name=\"data.di_size\">\n            {{selectOptions di_sizes selected=data.data.di_size}}\n        </select>\n        \n        {{else}}\n        {{data.data.di_size}}\n        {{/if}}\n        \n        {{> @partial-block }}\n    </div>\n        \n    {{/if}}\n    {{editor content=data.data.description target=\"data.description\" button=true editable=editable owner=owner}}\n{{/ \"heart:common/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/beat/sheet.html
/* harmony default export */ const beat_sheet = ({"path":"heart:items/beat/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"beat\"}}\n{{/ \"heart:items/base/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/calling/sheet.html
/* harmony default export */ const calling_sheet = ({"path":"heart:items/calling/sheet.html","source":"<form class=\"heart sheet base Item calling {{cssClass}}\" autocomplete=\"off\">\n    <h1>\n        {{#if (and editable (not item.isOwned))}}\n        <input name=\"name\" value=\"{{data.name}}\"/>\n        {{else}}\n        {{item.name}}\n        {{/if}}\n    </h1>\n    <div class=\"description\">\n        {{#if (and editable (not item.isOwned))}}\n        {{editor content=data.data.description target=\"data.description\" button=true editable=editable owner=owner}}\n        {{else}}\n        {{{data.data.description}}}\n        {{/if}}\n    </div>\n\n    <h4>\n        {{localizeHeart \"calling\" \"questions\" \"prompt\"}}\n        {{#if (and editable (not item.isOwned))}}\n        <a class=\"right\" data-action=\"add-question\"><span class=\"fas fa-plus\"></span> {{localizeHeart \"calling\" \"questions\" \"add\"}}</a>\n        {{/if}}\n    </h4>\n    <ul>\n    {{#each data.data.questions as |question id|}}\n        <li data-id=\"{{id}}\">\n            <div class=\"flexrow\">\n                {{#if ../item.isOwned}}\n                <div>\n                    <div class=\"question\">{{{question.question}}}</div>\n                    {{#if ../editable}}\n                    {{editor content=question.answer target=(join \".\" \"data.questions\" id \"answer\") button=true editable=../editable owner=owner}}\n                    {{else}}\n                    <div>{{{question.answer}}}</div>\n                    {{/if}}\n                </div>\n                {{else}}\n                    {{#if ../editable}}\n                    <div class=\"question\">\n                        {{editor content=question.question target=(join \".\" \"data.questions\" id \"question\") button=true editable=../editable owner=owner}}\n                    </div>\n                    {{else}}\n                    <div>{{{question.question}}}</div>\n                    {{/if}}\n                {{/if}}\n                {{#if (and ../editable (not ../item.isOwned))}}\n                <a class=\"action\" data-action=\"delete-question\"><span class=\"fas fa-trash\"></span> {{localizeHeart \"calling\" \"questions\" \"delete\"}}</a>\n                {{/if}}\n            </div>    \n        </li>\n    {{/each}}\n    </ul>\n\n    <h2>\n        {{#if (eq data.data.abilities.length 1)}}\n            {{localizeHeart \"calling\" \"core-ability\" \"label-single\"}}\n        {{else}}\n            {{localizeHeart \"calling\" \"core-ability\" \"label-multiple\"}}\n        {{/if}}\n        {{#if (and editable (not item.isOwned))}}\n        <a class=\"right\" data-action=\"add-child\" data-type=\"ability\"><span class=\"fas fa-plus\"></span> {{localizeHeart \"calling\" \"core-ability\" \"add\"}}</a>\n        {{/if}}\n    </h2>\n    <div class=\"item-list\">\n        {{#each childrenTypes.ability as |ability|}}\n        <div data-child-id=\"{{ability._id}}\" class=\"flexrow item\">\n            <div>\n                <span class=\"name\">{{ability.name}}</span>\n                {{{ability.data.description}}}\n            </div>\n            {{#if (and ../editable (not ../item.isOwned))}}\n            <a class=\"action\" data-action=\"edit-child\"><span class=\"fas fa-edit\"></span></a>\n            <a class=\"action\" data-action=\"delete-child\"><span class=\"fas fa-trash\"></span></a>\n            {{/if}}\n        </div>\n        {{/each}}\n    </div>\n\n    <h2>\n        {{localizeHeart \"beat\" \"minor-beat\" \"label-multiple\"}}\n        {{#if (and editable (not item.isOwned))}}\n        <a class=\"right\" data-action=\"add-child\" data-type=\"beat\" data-data='{\"type\": \"minor\"}'><span class=\"fas fa-plus\"></span> {{localizeHeart \"beat\" \"minor-beat\" \"add\"}}</a>\n        {{/if}}\n    </h2>\n    <div class=\"item-list\">\n        {{#each minorBeats as |beat|}}\n            <div data-child-id=\"{{beat._id}}\" class=\"flexrow item\">\n                <input type=\"checkbox\" name=\"data.children.{{beat._id}}.data.active\" {{checked beat.data.active}} {{#if (not ../item.isOwned)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'activate'}}\"/>\n                <input type=\"checkbox\" name=\"data.children.{{beat._id}}.data.completed\" {{checked beat.data.completed}} {{#if (not beat.data.active)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'complete'}}\"/>\n                <div>{{{beat.data.description}}}</div>\n                {{#if (and ../editable (not ../item.isOwned))}}\n                <div class=\"right\">\n                    <a class=\"action\" data-action=\"edit-child\"><span class=\"fas fa-edit\"></span></a>\n                    <a class=\"action\" data-action=\"delete-child\"><span class=\"fas fa-trash\"></span></a>\n                </div>\n                {{/if}}\n            </div>\n        {{/each}}\n    </div>\n\n    <h2>\n        {{localizeHeart \"beat\" \"major-beat\" \"label-multiple\"}}\n        {{#if (and editable (not item.isOwned))}}\n        <a class=\"right\" data-action=\"add-child\" data-type=\"beat\" data-data='{\"type\": \"major\"}'><span class=\"fas fa-plus\"></span> {{localizeHeart \"beat\" \"major-beat\" \"add\"}}</a>\n        {{/if}}\n    </h2>\n    <div class=\"item-list\">\n    {{#each majorBeats as |beat|}}\n    <div data-child-id=\"{{beat._id}}\" class=\"flexrow item\">\n        <input type=\"checkbox\" name=\"data.children.{{beat._id}}.active\" {{checked beat.active}} {{#if (not ../item.isOwned)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'activate'}}\"/>\n        <input type=\"checkbox\" name=\"data.children.{{beat._id}}.completed\" {{checked beat.completed}} {{#if (not beat.active)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'complete'}}\"/>\n        <div>{{{beat.data.description}}}</div>\n        {{#if (and ../editable (not ../item.isOwned))}}\n        <a class=\"action\" data-action=\"edit-child\"><span class=\"fas fa-edit\"></span></a>\n        <a class=\"action\" data-action=\"delete-child\"><span class=\"fas fa-trash\"></span></a>\n        {{/if}}\n    </div>\n    {{/each}}\n    </div>\n\n    <h2>\n        {{localizeHeart \"beat\" \"zenith-beat\" \"label-multiple\"}}\n        {{#if (and editable (not item.isOwned))}}\n        <a class=\"right\" data-action=\"add-child\" data-type=\"beat\" data-data='{\"type\": \"zenith\"}'><span class=\"fas fa-plus\"></span> {{localizeHeart \"beat\" \"zenith-beat\" \"add\"}}</a>\n        {{/if}}\n    </h2>\n    <div class=\"item-list\">\n    {{#each zenithBeats as |beat|}}\n    <div data-child-id=\"{{beat._id}}\" class=\"flexrow item\">\n        <input type=\"checkbox\" name=\"data.children.{{beat._id}}.active\" {{checked beat.active}} {{#if (not ../item.isOwned)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'activate'}}\"/>\n        <input type=\"checkbox\" name=\"data.children.{{beat._id}}.completed\" {{checked beat.completed}} {{#if (not beat.active)}}disabled{{/if}} title=\"{{localizeHeart 'beat' 'complete'}}\"/>\n        <div>{{{beat.data.description}}}</div>\n        {{#if (and ../editable (not ../item.isOwned))}}\n        <a class=\"action\" data-action=\"edit-child\"><span class=\"fas fa-edit\"></span></a>\n        <a class=\"action\" data-action=\"delete-child\"><span class=\"fas fa-trash\"></span></a>\n        {{/if}}\n    </div>\n    {{/each}}\n</div>\n</form>"});
;// CONCATENATED MODULE: ./src/items/equipment/sheet.html
/* harmony default export */ const equipment_sheet = ({"path":"heart:items/equipment/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"equipment\"}}\n<label>{{localizeHeart \"equipment\" \"type\" \"label-single\"}}</label>\n<select name=\"data.type\">\n    {{selectOptions equipment_types selected=data.data.type}}\n</select>\n{{/ \"heart:items/base/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/fallout/sheet.html
/* harmony default export */ const fallout_sheet = ({"path":"heart:items/fallout/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"fallout\"}}\n{{/ \"heart:items/base/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/haunt/sheet.html
/* harmony default export */ const haunt_sheet = ({"path":"heart:items/haunt/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"haunt\"}}\n{{/ \"heart:items/base/sheet.html\" }}"});
;// CONCATENATED MODULE: ./src/items/resource/sheet.html
/* harmony default export */ const resource_sheet = ({"path":"heart:items/resource/sheet.html","source":"{{#> \"heart:items/base/sheet.html\" type=\"resource\"}}\n<label>\n    {{localizeHeart \"domain\" \"label-single\"}}\n</label>\n{{#if editable}}\n    <select name=\"data.domain\">\n        {{selectOptions domains selected=data.data.domain}}\n    </select>\n{{else}}\n    {{localizeHeart \"domain\" data.data.domain}}\n{{/if}}\n\n{{/ \"heart:items/base/sheet.html\"}}"});
;// CONCATENATED MODULE: ./src/rolls/fallout-roll/roll.html
/* harmony default export */ const roll = ({"path":"heart:rolls/fallout-roll/roll.html","source":"<div class=\"dice-roll heart fallout-roll\">\n    {{#if flavor}}\n    <div class=\"dice-flavor\">{{flavor}}</div>\n    {{/if}}\n    <div class=\"dice-result\">\n        <div class=\"dice-formula\">{{description}}</div>\n        {{{tooltip}}}\n        <h4 class=\"dice-total text\">{{localizeHeart 'rolls' 'fallout-roll' 'results' result}}</h4>\n    </div>\n</div>"});
;// CONCATENATED MODULE: ./src/rolls/heart-roll/roll.html
/* harmony default export */ const heart_roll_roll = ({"path":"heart:rolls/heart-roll/roll.html","source":"<form class=\"dice-roll heart heart-roll\">\n    <input type=\"hidden\" name=\"character\" value=\"{{character}}\"/>\n    {{#if flavor}}\n    <div class=\"dice-flavor\">{{flavor}}</div>\n    {{/if}}\n    <div class=\"dice-result\">\n        <div class=\"dice-formula\">{{description}}</div>\n        {{{tooltip}}}\n        <div class=\"flexrow\">\n            <h4 class=\"dice-total text\">{{localizeHeart \"result\" result}}</h4>\n            {{#if (and showStressRollButton (lookup (getActor character) \"isOwner\"))}}\n            <button class=\"icon-button\" data-action='roll-stress' title=\"{{localizeHeart 'rolls' 'stress-roll' 'action'}}\">\n                <span class=\"fas fa-dice\"></span>\n            </button>\n            {{/if}}\n        </div>\n    </div>\n</form>"});
;// CONCATENATED MODULE: ./src/rolls/heart-roll/tooltip.html
/* harmony default export */ const tooltip = ({"path":"heart:rolls/heart-roll/tooltip.html","source":"<div class=\"dice-tooltip\" style=\"display: none;\">\n    {{#each parts}}\n    <section class=\"tooltip-part\">\n        <div class=\"dice\">\n            <header class=\"part-header\">\n                {{#if this.flavor}}<span class=\"part-formula\">{{this.flavor}}</span>{{/if}}\n            </header>\n            <ol class=\"dice-rolls\">\n            {{#each this.rolls as |roll index|}}\n                {{#if (numEq @../index ../../kept)}}\n                <li class=\"roll {{this.classes}}\">{{{roll.result}}}</li>\n                {{else}}\n                <li class=\"roll discarded {{this.classes}}\">{{{roll.result}}}</li>\n                {{/if}}\n            {{/each}}\n            </ol>\n        </div>\n    </section>\n    {{/each}}\n</div>\n"});
;// CONCATENATED MODULE: ./src/rolls/stress-roll/roll.html
/* harmony default export */ const stress_roll_roll = ({"path":"heart:rolls/stress-roll/roll.html","source":"<form class=\"dice-roll heart stress-roll\">\n    <input type=\"hidden\" name=\"character\" value=\"{{character}}\"/>\n    {{#if flavor}}\n    <div class=\"dice-flavor\">{{flavor}}</div>\n    {{/if}}\n    <div class=\"dice-result\">\n        <div class=\"dice-formula\">{{description}}</div>\n        {{{tooltip}}}\n        <div class=\"flexrow\">\n            <h4 class=\"dice-total\">{{total}} {{localizeHeart 'stress'}}</h4>\n            {{#if showTakeStressButton}}\n            <button class=\"icon-button\" data-action=\"take-stress\" title=\"{{localizeHeart 'rolls' 'stress-roll' 'take-stress' }}\">\n                <span class=\"fas fa-heart-broken\"></span>\n            </button>\n            {{/if}}\n            {{#if showFalloutRollButton}}\n            <button class=\"icon-button\" data-action=\"roll-fallout\" title=\"{{localizeHeart 'rolls' 'fallout-roll' 'action' }}\">\n                <span class=\"fas fa-radiation-alt\"></span>\n            </button>\n            {{/if}}\n        </div>\n    </div>\n</form>"});
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js
var injectStylesIntoStyleTag = __webpack_require__(379);
var injectStylesIntoStyleTag_default = /*#__PURE__*/__webpack_require__.n(injectStylesIntoStyleTag);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/styleDomAPI.js
var styleDomAPI = __webpack_require__(795);
var styleDomAPI_default = /*#__PURE__*/__webpack_require__.n(styleDomAPI);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/getTarget.js
var getTarget = __webpack_require__(695);
var getTarget_default = /*#__PURE__*/__webpack_require__.n(getTarget);
// EXTERNAL MODULE: ./node_modules/style-loader/dist/runtime/insertStyleElement.js
var insertStyleElement = __webpack_require__(216);
var insertStyleElement_default = /*#__PURE__*/__webpack_require__.n(insertStyleElement);
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/index.sass
var cjs_js_src = __webpack_require__(402);
;// CONCATENATED MODULE: ./src/index.sass

      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
options.domAPI = (styleDomAPI_default());
options.insertStyleElement = (insertStyleElement_default());

var update = injectStylesIntoStyleTag_default()(cjs_js_src/* default */.Z, options);




       /* harmony default export */ const src = (cjs_js_src/* default */.Z && cjs_js_src/* default.locals */.Z.locals ? cjs_js_src/* default.locals */.Z.locals : undefined);

// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/common/sheet.sass
var cjs_js_src_common_sheet = __webpack_require__(746);
;// CONCATENATED MODULE: ./src/common/sheet.sass

      
      
      
      
      
      
      

var sheet_options = {};

sheet_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
sheet_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
sheet_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
sheet_options.domAPI = (styleDomAPI_default());
sheet_options.insertStyleElement = (insertStyleElement_default());

var sheet_update = injectStylesIntoStyleTag_default()(cjs_js_src_common_sheet/* default */.Z, sheet_options);




       /* harmony default export */ const src_common_sheet = (cjs_js_src_common_sheet/* default */.Z && cjs_js_src_common_sheet/* default.locals */.Z.locals ? cjs_js_src_common_sheet/* default.locals */.Z.locals : undefined);

// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/actors/base/sheet.sass
var actors_base_sheet = __webpack_require__(875);
;// CONCATENATED MODULE: ./src/actors/base/sheet.sass

      
      
      
      
      
      
      

var base_sheet_options = {};

base_sheet_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
base_sheet_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
base_sheet_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
base_sheet_options.domAPI = (styleDomAPI_default());
base_sheet_options.insertStyleElement = (insertStyleElement_default());

var base_sheet_update = injectStylesIntoStyleTag_default()(actors_base_sheet/* default */.Z, base_sheet_options);




       /* harmony default export */ const src_actors_base_sheet = (actors_base_sheet/* default */.Z && actors_base_sheet/* default.locals */.Z.locals ? actors_base_sheet/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/common/sheet.js


function HeartSheetMixin(baseClass) {
    return class extends baseClass {
        get template() {
            return common_sheet.path;
        }

        get default_img() {
            return CONST.DEFAULT_TOKEN;
        }

        get img() {
            return systems/heart/assets/battle-gear.svg;
        }

        getData() {
            const data = super.getData();
            if (data.data.img === this.default_img) {
                data.data.img = this.img;
            }
            return data;
        }
    };
}

;// CONCATENATED MODULE: ./src/actors/base/sheet.js




class HeartActorSheet extends HeartSheetMixin(ActorSheet) {
    static get type() { return 'base'; }
    
    get template() {
        return base_sheet.path;
    }

    get img() {
        return this.default_img;
    }

    getData() {
        const data = super.getData();

        const items = {};
        Object.keys(CONFIG.Item.typeLabels).forEach((type) => {
            items[type] = [];
        });

        this.actor.items.forEach((item) => {
            items[item.type].push(item);
        });

        data.heart = items;

        return data;
    }
}
;// CONCATENATED MODULE: ./src/actors/adversary/template.json
const template_namespaceObject = JSON.parse('{"v":{"adversary":{"names":"","descriptors":"","motivation":"","difficulty":"","resistance":"","protection":"","resources":[],"equipment":"","special":""}}}');
;// CONCATENATED MODULE: ./src/actors/adversary/sheet.js




class EquipmentSheet extends HeartActorSheet {
    static get type() { return Object.keys(template_namespaceObject.v)[0]; }

    get template() {
        return sheet.path;
    }

    get img() {
        return 'systems/heart/assets/high-punch.svg';
    }
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/actors/character/character.sass
var character = __webpack_require__(963);
;// CONCATENATED MODULE: ./src/actors/character/character.sass

      
      
      
      
      
      
      

var character_options = {};

character_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
character_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
character_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
character_options.domAPI = (styleDomAPI_default());
character_options.insertStyleElement = (insertStyleElement_default());

var character_update = injectStylesIntoStyleTag_default()(character/* default */.Z, character_options);




       /* harmony default export */ const character_character = (character/* default */.Z && character/* default.locals */.Z.locals ? character/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/actors/character/template.json
const character_template_namespaceObject = JSON.parse('{"v":{"character":{"templates":["resistance","skills","domains"],"class":"","calling":"","active_beats":[],"equipment":[],"resources":[],"abilities":[],"fallout":[],"notes":""}}}');
;// CONCATENATED MODULE: ./src/actors/character/sheet.js





class CharacterSheet extends HeartActorSheet {
    static get defaultOptions() {
        const defaultOptions = super.defaultOptions;
        return mergeObject(defaultOptions, {
            dragDrop: [{dragSelector: '.item', dropSelector: null}]
        })
    }

    async _onDropItemCreate(itemData) {
        if(itemData.type === 'calling') {
            this.actor.itemTypes.calling.forEach(item => {
                item.delete();
            });
        }

        return super._onDropItemCreate(itemData);
    }

    static get type() { return Object.keys(character_template_namespaceObject.v)[0]; }

    get template() {
        return character_sheet.path;
    }

    get img() {
        return 'systems/heart/assets/high-punch.svg';
    }

    getData() {
        const data = super.getData();
        const callingItem = this.actor.items.find(x => x.type === 'calling');
        data.callingItem = callingItem;
        return data;
    }

    activateListeners(html) {
        super.activateListeners(html);

        html.find('.ordered-checkable-box:not(.checked)').click(ev => {
            ev.preventDefault();
            const element = ev.currentTarget;
            const index = parseInt(element.dataset.index);
            const parent = element.parentElement;
            const target = parent.dataset.target;

            const data = {};
            data[target] = index + 1;
            this.actor.update(data);
        });

        html.find('.ordered-checkable-box.checked').click(ev => {
            ev.preventDefault();
            const element = ev.currentTarget;
            const index = parseInt(element.dataset.index);
            const parent = element.parentElement;
            const target = parent.dataset.target;

            const data = {};
            if (index + 1 === getProperty(this.actor.data, target)) {
                data[target] = index;
            } else {
                data[target] = index + 1;
            }
            this.actor.update(data);
        });

        
        html.find('[data-action=prepare-request-roll]').click(ev => {
            new game.heart.applications.PrepareRollRequestApplication({}).render(true);
        });

        html.find('[data-action=add][data-type]').click(ev => {
            const type = $(ev.currentTarget).data('type');
            const doc = new CONFIG.Item.documentClass({
                type,
                name: `New ${type}`
            });

            
            this.actor.createEmbeddedDocuments('Item', [doc.toObject()]);
        });

        html.find('[data-action=view]').click(ev => {
            const id = $(ev.currentTarget).closest('[data-item-id]').data('itemId');
            const item = this.actor.items.get(id);
            item.sheet.render(true);
        });

        html.find('[data-action=delete]').click(ev => {
            const id = $(ev.currentTarget).closest('[data-item-id]').data('itemId');
            const item = this.actor.items.get(id);
            item.delete();
        });

        html.find('[data-action=item-roll]').click(async ev => {
            const id = $(ev.currentTarget).closest('[data-item-id]').data('itemId');
            const item = this.actor.items.get(id);

            const roll = game.heart.rolls.ItemRoll.build({item});
            await roll.evaluate({async: true});

            roll.toMessage({
                flavor: `${item.name} (<span class="item-type">${item.type}</span>)`,
                speaker: {actor: this.actor.id}
            });
        });
        
        html.find('[data-action=roll]').click(async ev => {
            const roll = await  game.heart.rolls.HeartRoll.build({
                character: this.actor.id
            });

            roll.toMessage({
                speaker: {actor: this.actor.id}
            });
        });

        html.find('[data-action=stress-roll]').click(async ev => {
            const roll = await game.heart.rolls.StressRoll.build({
                character: this.actor.id
            });

            roll.toMessage({
                speaker: {actor: this.actor.id}
            });
        });

        html.find('[data-action=fallout-roll]').click(async ev => {
            const roll = await game.heart.rolls.FalloutRoll.build({
                character: this.actor.id
            });

            roll.toMessage({
                speaker: {actor: this.actor.id}
            });
        });
    }
}
;// CONCATENATED MODULE: ./src/actors/delve/template.json
const delve_template_namespaceObject = JSON.parse('{"v":{"delve":{"domains":[],"tier":[],"stress":"","resistance":10,"events":[],"connection":"","description":""}}}');
;// CONCATENATED MODULE: ./src/actors/delve/sheet.js




class DelveSheet extends HeartActorSheet {
    static get type() { return Object.keys(delve_template_namespaceObject.v)[0]; }
    
    get template() {
        return delve_sheet.path;
    }

    get img() {
        return 'systems/heart/assets/dungeon-light.svg';
    }
}
;// CONCATENATED MODULE: ./src/actors/landmark/template.json
const landmark_template_namespaceObject = JSON.parse('{"v":{"landmark":{"domains":[],"description":"","stress":"d4","haunts":[]}}}');
;// CONCATENATED MODULE: ./src/actors/landmark/sheet.js




class LandmarkSheet extends HeartActorSheet {
    static get type() { return Object.keys(landmark_template_namespaceObject.v)[0]; }

    get template() {
        return landmark_sheet.path;
    }

    get img() {
        return 'systems/heart/assets/occupy.svg';
    }
}
;// CONCATENATED MODULE: ./src/actors/character/proxy.js
function Character(actor) {
    return new Proxy(actor, {
        get(actor, name, proxy) {
            if(name === 'totalStress') {
                return Object.values(actor.data.data.resistances).reduce((sum, resistance) => {
                    return sum + resistance.value;
                }, 0);
            }

            if(name === 'calling') {
                const calling = actor.items.find(x => x.type === 'calling');
                return calling;
            }
        }
    });
}
;// CONCATENATED MODULE: ./src/actors/index.js

     var sheet_modules = [adversary_sheet_namespaceObject, src_actors_base_sheet_namespaceObject, actors_character_sheet_namespaceObject, actors_delve_sheet_namespaceObject, actors_landmark_sheet_namespaceObject];
 var proxies = [proxy_namespaceObject];

class HeartActor extends Actor {
    get proxy() {
        if(this._proxy === undefined && this.constructor.proxies[this.type] !== undefined) {
            this._proxy = this.constructor.proxies[this.type](this);
        }

        return this._proxy;
    }
}

HeartActor.proxies = {};

function initialise() {
    console.log('heart | Registering actor sheets');
    Actors.unregisterSheet('core', ActorSheet);

    sheet_modules.forEach(function(module) {
        const Sheet = module.default;
        const type = Sheet.type;

        if(game.heart.actors === undefined) {
            game.heart.actors = {}
        }

        if(game.heart.actors[type] === undefined) {
            game.heart.actors[type] = {}
        }
        
        CONFIG.Actor.typeLabels[type] = `heart.${type}.label-single`;

        game.heart.actors[type].sheet = Sheet

        if(type === 'base') return;

        Actors.registerSheet('heart', Sheet, {
            types: [type],
            makeDefault: true,
            label: `heart.${type}`
        });
    });

    CONFIG.Actor.documentClass = HeartActor;

    proxies.forEach(function(module) {
        HeartActor.proxies[module.default.name.toLowerCase()] = module.default;
    });
}
;// CONCATENATED MODULE: ./src/applications/base/application.js
class HeartApplication extends FormApplication {
    static get defaultOptions() {
        return foundry.utils.mergeObject(super.defaultOptions, {
            classes: ["form", "heart", this.formType],
        });
    }

    static get formType() {
        return 'base'
    }
    
    static async build(data, msg) {
        try {
            const valueData = Object.entries(data).reduce((map, [key, build]) => {
                map[key] = build.value[0];
                return map;
            }, {});

            await this._roll(valueData, msg);
        } catch(err) {
            return (new this({}, {
                heart: data,
                msg
            })).render(true);
        }
    }

    static async _roll(data) {
        ui.notifications.error(`_roll has not been defined for ${this.formType}`);
    }
    
    get title() {
        if(this.constructor.formType !== 'base') {
            return game.i18n.localize(`heart.applications.${this.constructor.formType}.title`);
        } else {
            return super.title
        }
    }


    activateListeners(html) {
        html.find('button').click(ev => {
            ev.preventDefault();
        });

        html.find('[data-action=cancel]').click(ev => {
            this.close();
        });
    }
}
;// CONCATENATED MODULE: ./src/applications/prepare-roll-request/application.js



class PrepareRollRequestApplication extends HeartApplication {
    static get defaultOptions() {
        return foundry.utils.mergeObject(super.defaultOptions, {
            template: prepare_roll_request_application.path,
        });
    }

    static get formType() {
        return 'prepare-roll-request';
    }

    getData() {
        const data = super.getData();
        return mergeObject(data, {
            'characters': game.actors.filter(actor => actor.type === 'character').reduce((map, char) => {
                map[char.id] = char.name;
                return map;
            }, {}),
            'skills': game.heart.skills.reduce((map, skill) => {
                map[skill] = game.i18n.localize(`heart.skill.${skill}`);
                return map;
            }, {}),
            'domains': game.heart.domains.reduce((map, domain) => {
                map[domain] = game.i18n.localize(`heart.domain.${domain}`);
                return map;
            }, {}),
            'difficulties': game.heart.difficulties.reduce((map, difficulty) => {
                map[difficulty] = game.i18n.localize(`heart.difficulty.${difficulty}`);
                return map;
            }, {}),
        });
    }
    
    activateListeners(html) {
        super.activateListeners(html);
        const form = html.get(0);

        html.find('[data-action=submit]').click(async ev => {
            const data = new FormData(form);

            const difficulty = data.get('difficulty');
            const characters = data.getAll('character');
            const skills = data.getAll('skill');
            const domains = data.getAll('domain');
            const validHelpers = data.getAll('helper');

            CONFIG.ChatMessage.documentClass.create({
                flags: {
                    heart: {
                        ["roll-request"]: {
                            difficulty,
                            characters,
                            skills,
                            domains,
                            validHelpers,
                        }
                    }
                }
            });

            this.close();
        });
    }
}
;// CONCATENATED MODULE: ./src/applications/requirement-form/application.js



class RequirementApplication extends HeartApplication {
    static get defaultOptions() {
        return foundry.utils.mergeObject(super.defaultOptions, {
            template: requirement_form_application.path,
        });
    }

    static get formType() {
        return 'requirement'
    }

    static build({requirements, callback, type}) {
        new this({}, {
            type,
            requirements,
            callback
        }).render(this);
    }
    
    activateListeners(html) {
        super.activateListeners(html);
        const form = html.get(0);

        html.find('[data-action=submit]').click(async ev => {
            const data = new FormData(form);

            const output = Object.entries(this.options.requirements).reduce((map, [key, requirement]) => {
                if(requirement.isCheckbox) {
                    const value = data.get(key);
                    map[key] = value !== null;
                } else if(requirement.isMany) {
                    map[key] = data.getAll(key);
                } else {
                    map[key] = data.get(key);
                }

                return map;
            }, {});

            this.options.callback(output);
            this.close()
        });
    }
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/applications/application.sass
var applications_application = __webpack_require__(780);
;// CONCATENATED MODULE: ./src/applications/application.sass

      
      
      
      
      
      
      

var application_options = {};

application_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
application_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
application_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
application_options.domAPI = (styleDomAPI_default());
application_options.insertStyleElement = (insertStyleElement_default());

var application_update = injectStylesIntoStyleTag_default()(applications_application/* default */.Z, application_options);




       /* harmony default export */ const src_applications_application = (applications_application/* default */.Z && applications_application/* default.locals */.Z.locals ? applications_application/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/applications/index.js
   var modules = [base_application_namespaceObject, applications_prepare_roll_request_application_namespaceObject, applications_requirement_form_application_namespaceObject];


function applications_initialise() {
    console.log('heart | Registering applications');
    if(game.heart.applications === undefined) {
        game.heart.applications = {};
    }

    modules.forEach(function(module) {
        game.heart.applications[module.default.name] = module.default;
        if(module.initialise) {
            module.initialise();
        }
    });
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/chat-messages/chat-message.sass
var chat_messages_chat_message = __webpack_require__(429);
;// CONCATENATED MODULE: ./src/chat-messages/chat-message.sass

      
      
      
      
      
      
      

var chat_message_options = {};

chat_message_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
chat_message_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
chat_message_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
chat_message_options.domAPI = (styleDomAPI_default());
chat_message_options.insertStyleElement = (insertStyleElement_default());

var chat_message_update = injectStylesIntoStyleTag_default()(chat_messages_chat_message/* default */.Z, chat_message_options);




       /* harmony default export */ const src_chat_messages_chat_message = (chat_messages_chat_message/* default */.Z && chat_messages_chat_message/* default.locals */.Z.locals ? chat_messages_chat_message/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/chat-messages/index.js


class HeartChatMessage extends ChatMessage {
    get isRollRequest() {
        return this.getFlag('heart', 'roll-request') !== undefined;
    }

    get stressRoll() {
        if(this.roll instanceof game.heart.rolls.StressRoll) {
            return this.roll;
        }

        const json = this.getFlag('heart', 'stress-roll');
        if (json === undefined) {
            return
        }
        const Roll = CONFIG.Dice.rolls.find(x => x.name === json.class);
        const roll = Roll.fromData(json);
        return roll;
    }

    async setStressRoll(roll) {
        const json = roll.toJSON()
        await this.setFlag('heart', 'stress-roll', json);
    }

    get showStressRollButton() {
        const showStressRollButton = this.getFlag('heart', 'show-stress-roll-button')
        if (this.stressRoll !== undefined) {
            return false;
        }
        if (showStressRollButton === undefined) {
            return true
        } else {
            return Boolean(showStressRollButton);
        }
    }

    set showStressRollButton(value) {
        return this.setFlag('heart', 'show-stress-roll-button', value);
    }

    get showTakeStressButton() {
        const showTakeStressButton = this.getFlag('heart', 'show-take-stress-button')
        if(this.stressRoll !== undefined) {
            if (showTakeStressButton === undefined) {
                return true
            } else {
                return Boolean(showTakeStressButton);
            }
        } else {
            return false;
        }
    }

    set showTakeStressButton(value) {
        return this.setFlag('heart', 'show-take-stress-button', value);
    }

    get falloutRoll() {
        if(this.roll instanceof game.heart.rolls.FalloutRoll) {
            return this.roll;
        }

        const json = this.getFlag('heart', 'fallout-roll');
        if (json === undefined) {
            return
        }
        const Roll = CONFIG.Dice.rolls.find(x => x.name === json.class);
        const roll = Roll.fromData(json);
        return roll;
    }

    set falloutRoll(roll) {
        const json = roll.toJSON()
        this.setFlag('heart', 'fallout-roll', json);
        return
    }

    get showFalloutRollButton() {
        const showFalloutRollButton = this.getFlag('heart', 'show-fallout-roll-button')
        if (this.falloutRoll !== undefined) {
            return false;
        }
        if (showFalloutRollButton === undefined) {
            return true
        } else {
            return Boolean(showFalloutRollButton);
        }
    }

    set showFalloutRollButton(value) {
        return this.setFlag('heart', 'show-fallout-roll-button', value);
    }

    async getHTML() {
        const html = await super.getHTML();

        if (this.isRoll && this.isContentVisible) {
            html.find('.message-content').html(
                await this.roll.render({
                    isPrivate: false,
                    showStressRollButton: this.showStressRollButton,
                    showTakeStressButton: this.showTakeStressButton,
                    showFalloutRollButton: this.showFalloutRollButton,
                })
            )

            if (this.stressRoll && this.stressRoll !== this.roll) {
                const stressContent = await this.stressRoll.render({ isPrivate: false, showTakeStressButton: this.showTakeStressButton, showFalloutRollButton: this.showFalloutRollButton });
                html.append(
                    $('<div class="message-content"></div>').append(stressContent)
                );
            }

            if (this.falloutRoll && this.falloutRoll !== this.roll) {
                const falloutContent = await this.falloutRoll.render({ isPrivate: false });
                html.append(
                    $('<div class="message-content"></div>').append(falloutContent)
                );
            }
        }

        if(this.isRollRequest) {
            const data = this.getFlag('heart', 'roll-request');
            const content = await renderTemplate('heart:applications/prepare-roll-request/chat-message.html', data);
            html.append(content)
        }

        return html;
    }
}

function activateListeners(html) {

    html.on('click', 'form button', ev => {
        ev.preventDefault();
    });

    html.on('click', 'form.roll-request [data-action=roll][data-character]', (ev) => {
        const button = $(ev.currentTarget);
        const {
            character
        } = button.data();

        const form = button.closest('form.roll-request');
        const data = new FormData(form.get(0));
        data.set('character', character);

        const buildData = game.heart.applications.PrepareRollApplication.getBuildData({
            character: [character],
            difficulty: form.find(`[name=difficulty]`).map((_, ev) => ev.value).get(),
            skill: form.find(`[name=skill]`).map((_, ev) => ev.value).get(),
            domain: form.find(`[name=domain]`).map((_, ev) => ev.value).get(),
            helper: form.find(`[name=helper]`).map((_, ev) => ev.value).get(),
        }, data);

        return game.heart.applications.PrepareRollApplication.build(buildData);
    });
}

function chat_messages_initialise() {
    console.log('heart | Registering ChatMessage');
    CONFIG.ChatMessage.documentClass = HeartChatMessage;

    Hooks.once('renderChatLog', (app, html, data) => activateListeners(html));
    Hooks.once('renderChatPopout', (app, html, data) => activateListeners(html));
}
;// CONCATENATED MODULE: ./src/items/base/sheet.js



class HeartItemSheet extends HeartSheetMixin(ItemSheet) {
    static get type() { return 'base'; }

    get template() {
        return items_base_sheet.path;
    }

    get default_img() {
        return 'icons/svg/item-bag.svg';
    }

    get img() {
        return this.default_img;
    }

    get children() {
        return Object.values(this.item.data.data.children || {});
    }

    get childrenTypes() {
        return this.children.reduce((map, value) => {
            if(map[value.type] === undefined) {
                map[value.type] = [value];
            } else {
                map[value.type].push(value);
            }

            return map;
        }, {});
    }

    activateListeners(html) {
        super.activateListeners(html);

        html.find('[data-action=add-child][data-type]').click(ev => {
            const target = $(ev.currentTarget);
            const documentName = target.data('document-name') || 'Item';
            const type = target.data('type');
            let itemData = target.data('data') || {};

            const id = randomID();
            const data = new CONFIG[documentName].documentClass({_id: id, type: type, name: `New ${type}`, data: itemData}).toObject();
            data.documentName = documentName;
            
            this.item.update({[`data.children.${id}`]: data});
        });

        html.find('[data-child-id] [data-action=edit-child]').click(ev => {
            const target = $(ev.currentTarget);
            const id = target.closest('[data-child-id]').data('childId');
            const itemData = this.item.data.data.children[id];
            const documentName = itemData.documentName;
            const item = new CONFIG[documentName].documentClass(itemData, {parentItem: this.item});
            item.sheet.render(true);
        });

        html.find('[data-child-id] [data-action=delete-child]').click(async ev => {
            const target = $(ev.currentTarget);
            const id = target.closest('[data-child-id]').data('childId');
            await this.item.update({[`data.children.-=${id}`]: null});
            this.render(true);
        });
    }

    getData() {
        const data = super.getData();
        data.di_sizes = game.heart.di_sizes.reduce((map, di) => {
            map[di] = game.i18n.format('heart.di_size.d(N)', {N: di.replace(/^d/, '')})
            return map;
        }, {});

        data.domains = game.heart.domains.reduce((map, domain) => {
            map[domain] = game.i18n.localize(`heart.domain.${domain}`)
            return map;
        }, {});

        data.equipment_types = game.heart.equipment_types.reduce((map, equipment_type) => {
            map[equipment_type] = game.i18n.localize(`heart.equipment.type.${equipment_type}`)
            return map;
        }, {});

        data.children = this.children;
        data.childrenTypes = this.childrenTypes;

        return data;
    }
}
;// CONCATENATED MODULE: ./src/items/ability/template.json
const ability_template_namespaceObject = JSON.parse('{"c":{"ability":{"templates":["has_description"],"mechanics":""}}}');
;// CONCATENATED MODULE: ./src/items/ability/sheet.js



const data = Object.freeze({
    type: Object.keys(ability_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/skills.svg',
    template: ability_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/beat/template.json
const beat_template_namespaceObject = JSON.parse('{"c":{"beat":{"templates":["has_description"],"type":"minor","active":false,"completed":false}}}');
;// CONCATENATED MODULE: ./src/items/beat/sheet.js



const sheet_data = Object.freeze({
    type: Object.keys(beat_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/drum.svg',
    template: beat_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/calling/template.json
const calling_template_namespaceObject = JSON.parse('{"c":{"calling":{"templates":["has_description","has_children"],"questions":{},"mark":null}}}');
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/items/calling/sheet.sass
var items_calling_sheet = __webpack_require__(621);
;// CONCATENATED MODULE: ./src/items/calling/sheet.sass

      
      
      
      
      
      
      

var calling_sheet_options = {};

calling_sheet_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
calling_sheet_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
calling_sheet_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
calling_sheet_options.domAPI = (styleDomAPI_default());
calling_sheet_options.insertStyleElement = (insertStyleElement_default());

var calling_sheet_update = injectStylesIntoStyleTag_default()(items_calling_sheet/* default */.Z, calling_sheet_options);




       /* harmony default export */ const src_items_calling_sheet = (items_calling_sheet/* default */.Z && items_calling_sheet/* default.locals */.Z.locals ? items_calling_sheet/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/items/calling/sheet.js






const calling_sheet_data = Object.freeze({
    type: Object.keys(calling_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/drum.svg',
    template: calling_sheet.path,
});

/* harmony default export */ const src_items_calling_sheet_0 = (class extends HeartItemSheet {
    static get type() { return calling_sheet_data.type; }

    get template() {
        return calling_sheet_data.template;
    }

    get img() {
        return calling_sheet_data.img;
    }

    getData() {
        const data = super.getData();
        data.minorBeats = (this.childrenTypes.beat || []).filter(x => x.data.type === 'minor');
        data.majorBeats = (this.childrenTypes.beat || []).filter(x => x.data.type === 'major');
        data.zenithBeats = (this.childrenTypes.beat || []).filter(x => x.data.type === 'zenith');
        return data;
    }

    activateListeners(html) {
        super.activateListeners(html);

        html.find('[data-action=add-question]').click(ev => {
            const id = randomID();
            this.item.update({[`data.questions.${id}`]: {
                question: '',
                answer: ''
            }});
        });

        html.find('[data-action=delete-question]').click(ev => {
            const target = $(ev.currentTarget);
            const id = target.closest ('[data-id]').data('id');
            this.item.update({[`data.questions.-=${id}`]: null});
        });
    }
});


;// CONCATENATED MODULE: ./src/items/equipment/template.json
const equipment_template_namespaceObject = JSON.parse('{"c":{"equipment":{"templates":["is_rollable","has_description"],"type":"miscellaneous"}}}');
;// CONCATENATED MODULE: ./src/items/equipment/sheet.js



const types = ['miscellaneous', 'delve', 'kill', 'mend'];

function sheet_initialise() {
    game.heart.equipment_types = types;
}

const equipment_sheet_data = Object.freeze({
    type: Object.keys(equipment_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/battle-gear.svg',
    template: equipment_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/fallout/template.json
const fallout_template_namespaceObject = JSON.parse('{"c":{"fallout":{"templates":["has_description"]}}}');
;// CONCATENATED MODULE: ./src/items/fallout/sheet.js



const fallout_sheet_data = Object.freeze({
    type: Object.keys(fallout_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/fallout-shelter.svg',
    template: fallout_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/haunt/template.json
const haunt_template_namespaceObject = JSON.parse('{"c":{"haunt":{"templates":["has_description"]}}}');
;// CONCATENATED MODULE: ./src/items/haunt/sheet.js



const haunt_sheet_data = Object.freeze({
    type: Object.keys(haunt_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/prayer.svg',
    template: haunt_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/resource/template.json
const resource_template_namespaceObject = JSON.parse('{"c":{"resource":{"templates":["is_rollable","has_description"],"domain":""}}}');
;// CONCATENATED MODULE: ./src/items/resource/sheet.js



const resource_sheet_data = Object.freeze({
    type: Object.keys(resource_template_namespaceObject.c)[0],
    img: 'systems/heart/assets/ore.svg',
    template: resource_sheet.path,
});


;// CONCATENATED MODULE: ./src/items/index.js

        var sheetModules = [items_ability_sheet_namespaceObject, src_items_base_sheet_namespaceObject, items_beat_sheet_namespaceObject, src_items_calling_sheet_namespaceObject, items_equipment_sheet_namespaceObject, items_fallout_sheet_namespaceObject, items_haunt_sheet_namespaceObject, items_resource_sheet_namespaceObject];

class HeartItem extends Item {
    constructor(data={}, context={}) {
        super(data, context);

        Object.defineProperty(this, "parentItem", {
          value: context.parentItem || null,
          writable: false
        });
    }

    get isChild() {
        return this.parentItem !== null;
    }

    async update(data={}, context={}) {
        if(this.isChild) {
            const update = this.parentItem.update({
                [`data.children.${this.data._id}`]: data
            });
            
            update.then(parent => {
                const child = parent.data.data.children[this.data._id];
                mergeObject(this.data._source, child);
                mergeObject(this.data, child);
            });

            return update;
        } else {
            return super.update(data, context);
        }
    }
}


function ItemSheetFactory(data) {
    const safe_data = Object.freeze({...data});
    return class extends HeartItemSheet {
        static get type() { return data.type; }

        get template() {
            return safe_data.template;
        }
    
        get img() {
            return safe_data.img;
        }
    }
}

function items_initialise() {
    console.log('heart | Assigning new Item documentClass');
    CONFIG.Item.documentClass = HeartItem;
    console.log('heart | Registering item sheets');
    Items.unregisterSheet('core', ItemSheet);
    sheetModules.forEach((module) => {
        
        const data = module.data;
        let Sheet;
        if(module.default !== undefined) {
            Sheet = module.default;
        } else if(data.sheet instanceof ItemSheet) {
            Sheet = data.sheet
        } else {
            Sheet = ItemSheetFactory(data);
        }

        const type = Sheet.type;

        console.log(`heart | -- Registering ${type} sheet`);
        if(game.heart.items === undefined) {
            game.heart.items = {}
        }

        if(game.heart.items[type] === undefined) {
            game.heart.items[type] = {}
        }

        game.heart.items[type].sheet = Sheet
        if(module.initialise) {
            module.initialise();
        }

        if(type === 'base') return;
        
        CONFIG.Item.typeLabels[type] = `heart.${type}.label-single`;
        Items.registerSheet('heart', Sheet, {
            types: [type],
            makeDefault: true,
            label: `heart.${type}.label-single`
        });
    });
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/rolls/fallout-roll/roll.sass
var fallout_roll_roll = __webpack_require__(979);
;// CONCATENATED MODULE: ./src/rolls/fallout-roll/roll.sass

      
      
      
      
      
      
      

var roll_options = {};

roll_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
roll_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
roll_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
roll_options.domAPI = (styleDomAPI_default());
roll_options.insertStyleElement = (insertStyleElement_default());

var roll_update = injectStylesIntoStyleTag_default()(fallout_roll_roll/* default */.Z, roll_options);




       /* harmony default export */ const rolls_fallout_roll_roll = (fallout_roll_roll/* default */.Z && fallout_roll_roll/* default.locals */.Z.locals ? fallout_roll_roll/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/rolls/fallout-roll/roll.js



const fallout_results = {
    'no-fallout': (total, totalStress) => total > totalStress,
    'minor-fallout': (total, totalStress) => total <= totalStress && total <= 6,
    'major-fallout': (total, totalStress) => total <= totalStress && total > 6
};

function roll_initialise() {
    game.heart.fallout_results = Object.keys(fallout_results);
}

class FalloutRoll extends Roll {
    static get CHAT_TEMPLATE() { return roll.path; }

    static get requirements() {
        const characters = game.actors.filter(x => x.type === 'character');
        return {
            character: {
                label: game.i18n.localize(`heart.character.label-single`),
                options: characters.reduce((map, char) => {
                    map[char.data._id] = char.name
                    return map;
                }, {})
            }, 
        }
    }

    static build({character}={}, data={}, options={}) {
        return new Promise((resolve, reject) => {
            const requirements = this.requirements;
        
            if(character !== undefined) delete requirements.character;

            const buildData = {character};
            if(Object.keys(requirements).length > 0) {
                game.heart.applications.RequirementApplication.build({
                    requirements,
                    callback: moreData => {
                        mergeObject(buildData, moreData)
                        resolve(this._build(buildData, data, options));
                    },
                    type: 'prepare-fallout-roll',
                });
            } else {
                return resolve(this._build(buildData, data, options));
            }
        })
    }

    static _build({character}, data={}, options={}) {
        const actor = game.actors.get(character).proxy;
        options.totalStress = actor.totalStress;
        return new this('1d12', data, options);
    }

    get result() {
        return Object.keys(fallout_results).find(result => fallout_results[result](this.total, this.options.totalStress));
    }

    async render(chatOptions = {}) {
        chatOptions = foundry.utils.mergeObject({
            user: game.user.id,
            flavor: null,
            template: this.constructor.CHAT_TEMPLATE,
            blind: false
        }, chatOptions);
        const isPrivate = chatOptions.isPrivate;

        // Execute the roll, if needed
        if (!this._evaluated) await this.evaluate({ async: true });

        const description = game.i18n.format('heart.rolls.fallout-roll.description(totalStress)', {
            totalStress: this.options.totalStress
        });

        // Define chat data
        const chatData = {
            description: isPrivate ? '???' : description,
            formula: isPrivate ? "???" : this._formula,
            flavor: isPrivate ? null : chatOptions.flavor,
            user: chatOptions.user,
            tooltip: isPrivate ? "" : await this.getTooltip(),
            total: isPrivate ? "?" : this.total,
            result: isPrivate ? "?" : this.result
        };

        // Render the roll display template
        return renderTemplate(chatOptions.template, chatData);
    }
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/rolls/heart-roll/roll.sass
var rolls_heart_roll_roll = __webpack_require__(107);
;// CONCATENATED MODULE: ./src/rolls/heart-roll/roll.sass

      
      
      
      
      
      
      

var heart_roll_roll_options = {};

heart_roll_roll_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
heart_roll_roll_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
heart_roll_roll_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
heart_roll_roll_options.domAPI = (styleDomAPI_default());
heart_roll_roll_options.insertStyleElement = (insertStyleElement_default());

var heart_roll_roll_update = injectStylesIntoStyleTag_default()(rolls_heart_roll_roll/* default */.Z, heart_roll_roll_options);




       /* harmony default export */ const src_rolls_heart_roll_roll = (rolls_heart_roll_roll/* default */.Z && rolls_heart_roll_roll/* default.locals */.Z.locals ? rolls_heart_roll_roll/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/rolls/heart-roll/roll.js





const difficulty_reductions = {
    standard: 0,
    risky: 1,
    dangerous: 2,
    impossible: Infinity,
}

const normal_results = {
    'critical_failure': [1, 1],
    'failure': [2, 5],
    'success_at_a_cost': [6, 7],
    'success': [8, 9],
    'critical_success': [10, 10]
};

const difficult_results = {
    'critical_failure': [1, 1],
    'failure': [2, 9],
    'success_at_a_cost': [10, 10],
}

const stress_results = [
    'critical_failure',
    'failure',
    'success_at_a_cost'
];

function heart_roll_roll_initialise() {
    const results = {...normal_results, ...difficult_results};
    game.heart.difficulties = Object.keys(difficulty_reductions);
    game.heart.results = Object.keys(results);
    game.heart.stress_results = stress_results;
}

class HeartRoll extends Roll {
    static get CHAT_TEMPLATE() { return heart_roll_roll.path; }
    static get TOOLTIP_TEMPLATE() { return tooltip.path; } 

    static get requirements() {
        const characters = game.actors.filter(x => x.type === 'character');
        const skills = game.heart.skills;
        const domains = game.heart.domains;
        const difficulties = game.heart.difficulties;
        return {
            character: {
                label: game.i18n.localize(`heart.character.label-single`),
                options: characters.reduce((map, char) => {
                    map[char.data._id] = char.name
                    return map;
                }, {})
            }, 
            difficulty: {
                label: game.i18n.localize(`heart.difficulty.label-single`),
                options: difficulties.reduce((map, difficulty) => {
                    map[difficulty] = game.i18n.localize(`heart.difficulty.${difficulty}`)
                    return map;
                }, {})
            }, 
            skill: {
                label: game.i18n.localize(`heart.skill.label-single`),
                options: skills.reduce((map, skill) => {
                    map[skill] = game.i18n.localize(`heart.skill.${skill}`)
                    return map;
                }, {})
            }, 
            domain: {
                label: game.i18n.localize(`heart.domain.label-single`),
                options: domains.reduce((map, domain) => {
                    map[domain] = game.i18n.localize(`heart.domain.${domain}`)
                    return map;
                }, {})
            }, 
            mastery: {
                label: game.i18n.localize(`heart.mastery.label-single`),
                isCheckbox: true,
            }, 
            helpers: {
                label: game.i18n.localize(`heart.helper.label-single`),
                isMany: true,
                options: characters.reduce((map, char) => {
                    map[char.data._id] = char.name
                    return map;
                }, {})
            }
        }
    }

    static build(pools = {}, data={}, options={}) {
        return new Promise((resolve, reject) => {
            let {
                character,
                skill,
                domain,
                mastery,
                helpers,
                difficulty
            } = pools;

            const requirements = this.requirements;
        
            if(character !== undefined) delete requirements.character;
            if(difficulty !== undefined) delete requirements.difficulty;
            if(skill !== undefined) delete requirements.skill;
            if(domain !== undefined) delete requirements.domain;
            if(mastery !== undefined) delete requirements.mastery;
            if(helpers !== undefined) delete requirements.helpers;

            const buildData = {
                character,
                difficulty,
                skill,
                domain,
                mastery,
                helpers,
            };

            if(Object.keys(requirements).length > 0) {
                game.heart.applications.RequirementApplication.build({
                    requirements,
                    callback: moreData => {
                        mergeObject(buildData, moreData)
                        resolve(this._build(buildData, data, options));
                    },
                    type: 'prepare-roll',
                });
            } else {
                return resolve(this._build(buildData, data, options));
            }
        })
    }

    static _build({character, difficulty, skill, domain, mastery, helpers}={}, data={}, options={}) {
        const actor = game.actors.get(character);

        skill = actor.data.data.skills[skill].value ? skill : undefined;
        domain = actor.data.data.domains[domain].value ? domain : undefined;
        helpers = helpers.filter(x => x !== character);

        let formula_terms = [];
        [
            game.i18n.localize('heart.rolls.roll.base'),
            skill ? game.i18n.localize(`heart.skill.${skill}`) : undefined,
            domain ? game.i18n.localize(`heart.domain.${domain}`) : undefined, 
            mastery ? game.i18n.localize(`heart.mastery.label-short`) : false,
            ...helpers].forEach(flavor => {
            if (!flavor) return;
            formula_terms.push(`1d10[${flavor}]`);
        });


        if(difficulty === 'impossible') {
            formula_terms = [];
        }

        const difficulty_reduction = difficulty_reductions[difficulty];
        const difficulty_modifier = difficulty_reduction > 0 ? `dh${difficulty_reduction}` : ''
        const formula = `{${formula_terms.join(', ')}}${difficulty_modifier}kh`;

        options.character = character;
        options.result_set = formula_terms.length > difficulty_reduction ? 'normal' : 'difficult';
        options.skill = skill;
        options.domain = domain;
        options.mastery = mastery;
        options.difficulty = difficulty;
        options.helpers = helpers;

        return new this(formula, data, options);
    }

    get result() {
        if(this.options.difficulty === 'impossible') {
            return 'failure';   
        }

        let results = normal_results;
        if(this.options.result_set === 'difficult') {
            results = difficult_results;
        }

        return Object.keys(results).find(result => {
            const [minVal, maxVal] = results[result];
            return minVal <= this.total && this.total <= maxVal;
        });
    }

    async render(chatOptions = {}) {
        chatOptions = foundry.utils.mergeObject({
            user: game.user.id,
            flavor: null,
            template: this.constructor.CHAT_TEMPLATE,
            blind: false
        }, chatOptions);
        const isPrivate = chatOptions.isPrivate;

        const showStressRollButton = chatOptions.showStressRollButton !== undefined ? chatOptions.showStressRollButton : false;

        // Execute the roll, if needed
        if (!this._evaluated) await this.evaluate({ async: true });

        const description = game.i18n.format('heart.rolls.roll.description(difficulty,count)', {
            difficulty: game.i18n.localize(`heart.difficulty.${this.options.difficulty}`),
            count: this.dice.length
        });

        // Define chat data
        const chatData = {
            character: chatOptions.character || this.options.character,
            description: isPrivate ? '???' : description,
            formula: isPrivate ? "???" : this._formula,
            flavor: isPrivate ? null : chatOptions.flavor,
            user: chatOptions.user,
            tooltip: isPrivate ? "" : await this.getTooltip(),
            showStressRollButton: isPrivate ? false : showStressRollButton && stress_results.includes(this.result),
            total: isPrivate ? "?" : this.total,
            result: isPrivate ? "?" : this.result
        };

        // Render the roll display template
        return renderTemplate(chatOptions.template, chatData);
    }

    async getTooltip() {
        const parts = this.dice.map(d => d.getTooltipData());
        const kept = this.dice.findIndex(d => d.total == this.total);
        return renderTemplate(this.constructor.TOOLTIP_TEMPLATE, {
            kept,
            parts 
        });
    }

    static activateListeners(html) {
        html.on('click', '.heart-roll [data-action=roll-stress]', async function(ev) {
            const target = $(ev.currentTarget);
            const msgElement = target.closest('.chat-message');
            const messageId = msgElement.data('messageId');
            const msg = game.messages.get(messageId);
            const roll = msg.roll;

            
            if (!roll._evaluated) await this.evaluate({ async: true });
            const stressRoll = await game.heart.rolls.StressRoll.build({
                character: roll.options.character,
                result: roll.result,
            }, msg);

            await stressRoll.evaluate({async: true});

            await msg.setStressRoll(stressRoll);
            msg.showStressRollButton = false;
        });
    }
}
;// CONCATENATED MODULE: ./src/rolls/item-roll/roll.js
class ItemRoll extends Roll {
    static build({item} = {}, data={}, options={}) {
        options.item = item;
        return new this(item.data.data.di_size, data, options);
    }
}
;// CONCATENATED MODULE: ./src/rolls/stress-roll/roll.js


class StressRoll extends Roll {
    static get CHAT_TEMPLATE() { return stress_roll_roll.path; }

    static get requirements() {
        const characters = game.actors.filter(x => x.type === 'character');
        const results = game.heart.stress_results;
        const di_sizes = game.heart.stress_dice;
        return {
            character: {
                label: game.i18n.localize(`heart.character.label-single`),
                options: characters.reduce((map, char) => {
                    map[char.data._id] = char.name
                    return map;
                }, {})
            }, 
            result: {
                label: game.i18n.localize(`heart.result.label-single`),
                options: results.reduce((map, difficulty) => {
                    map[difficulty] = game.i18n.localize(`heart.result.${difficulty}`)
                    return map;
                }, {})
            }, 
            di_size: {
                label: game.i18n.localize(`heart.di_size.label-single`),
                options: di_sizes.reduce((map, di_size) => {
                    map[di_size] = game.i18n.format(`heart.di_size.d(N)`, {N: di_size.replace(/^d/, '')})
                    return map;
                }, {})
            }
        };
    }

    static build({result, di_size, character}={}, data={}, options={}) {
        return new Promise((resolve, reject) => {
            const requirements = this.requirements;
        
            if(result !== undefined) delete requirements.result;
            if(di_size !== undefined) delete requirements.di_size;
            if(character !== undefined) delete requirements.character;

            const buildData = {
                result,
                di_size,
                character
            };

            if(Object.keys(requirements).length > 0) {
                game.heart.applications.RequirementApplication.build({
                    requirements,
                    callback: moreData => {
                        mergeObject(buildData, moreData)
                        resolve(this._build(buildData, data, options));
                    },
                    type: 'prepare-stress-roll',
                });
            } else {
                return resolve(this._build(buildData, data, options));
            }
        })
    }

    static _build({result, di_size, character}, data={}, options={}) {
        options.result = result;
        options.di_size = di_size;
        options.character = character;

        let formula = di_size;
        if(result === 'critical_failure') {
            formula = `2 * {${di_size}}`;
        }

        return new this(formula, data, options);
    }

    async render(chatOptions = {}) {
        chatOptions = foundry.utils.mergeObject({
            user: game.user.id,
            flavor: null,
            template: this.constructor.CHAT_TEMPLATE,
            blind: false
        }, chatOptions);
        const isPrivate = chatOptions.isPrivate;

        
        const showTakeStressButton = chatOptions.showTakeStressButton !== undefined ? chatOptions.showTakeStressButton : false;
        const showFalloutRollButton = chatOptions.showFalloutRollButton !== undefined ? chatOptions.showFalloutRollButton : false;

        // Execute the roll, if needed
        if (!this._evaluated) await this.evaluate({ async: true });

        const description = game.i18n.format('heart.rolls.stress-roll.description(di_size)', {
            di_size: this.options.di_size,
            result: game.i18n.localize(`heart.result:${this.options.result}`)
        });

        // Define chat data
        const chatData = {
            character: chatOptions.character || this.options.character,
            description: isPrivate ? '???' : description,
            formula: isPrivate ? "???" : this._formula,
            flavor: isPrivate ? null : chatOptions.flavor,
            user: chatOptions.user,
            tooltip: isPrivate ? "" : await this.getTooltip(),
            showTakeStressButton: isPrivate ? false : showTakeStressButton,
            showFalloutRollButton: isPrivate ? false : !showTakeStressButton && showFalloutRollButton,
            total: isPrivate ? "?" : this.total,
            result: isPrivate ? "?" : this.result
        };

        // Render the roll display template
        return renderTemplate(chatOptions.template, chatData);
    }

    async takeStress(character, resistance='blood') {
        return new Promise((resolve, reject) => {
            character = character || this.options.character;

            game.heart.applications.RequirementApplication.build({
                requirements: {
                    resistance: {
                        options: game.heart.resistances.reduce((map, resistance) => {
                            map[resistance] = game.i18n.localize(`heart.resistance.${resistance}`)
                            return map;
                        }, {})
                    }
                }, 
                callback: ({resistance}) => {
                    
                    const actor = game.actors.get(character);
                    const updateData = {};
                    const resistanceBlock = actor.data.data.resistances[resistance];
                    const total = this.total;
                    if(total === undefined) {
                        ui.notifications.error(`Somehow this roll isn't evaluated`, this);
                        reject();
                    }
                    const newValue = (resistanceBlock.value || 0) + Math.max(0, parseInt(total) - resistanceBlock.protection);
                    updateData[`data.resistances.${resistance}.value`] = newValue;
                    actor.update(updateData)
                    resolve();
                },
                type: "take-stress"
            });
        });
    }

    asybuildFalloutRoll(character) {
        character = character || this.options.character;
        return game.heart.rolls.FalloutRoll.build({
            character
        });
    }

    static activateListeners(html) {
        html.on('click', '.stress-roll [data-action=take-stress]', async function(ev) {
            ev.preventDefault();
            const target = $(ev.currentTarget);
            const msgElement = target.closest('.chat-message');
            const messageId = msgElement.data('messageId');
            const msg = game.messages.get(messageId);
            const stressRoll = msg.stressRoll;
            const actor_id = stressRoll.options.character;
            await stressRoll.takeStress(actor_id)
            msg.showTakeStressButton = false;
            msg.showFalloutRollButton = true;
        });

        html.on('click', '.stress-roll [data-action=roll-fallout]', async function(ev) {
            ev.preventDefault();
            const target = $(ev.currentTarget);
            const msgElement = target.closest('.chat-message');
            const messageId = msgElement.data('messageId');
            const msg = game.messages.get(messageId);
            const stressRoll = msg.stressRoll;
            const falloutRoll = await game.heart.rolls.FalloutRoll.build({
                character: stressRoll.options.character
            });

            await falloutRoll.evaluate({async: true});
            
            msg.falloutRoll = falloutRoll;
            msg.showFalloutRollButton = false;
        });
    }
}
// EXTERNAL MODULE: ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/rolls/roll.sass
var rolls_roll = __webpack_require__(361);
;// CONCATENATED MODULE: ./src/rolls/roll.sass

      
      
      
      
      
      
      

var rolls_roll_options = {};

rolls_roll_options.styleTagTransform = function(css, style){
      if (style.styleSheet) {
        style.styleSheet.cssText = css;
      } else {
      while (style.firstChild) {
        style.removeChild(style.firstChild);
      }

      style.appendChild(document.createTextNode(css));
    }
  };
rolls_roll_options.setAttributes = function(style) {
        var nonce =
           true ? __webpack_require__.nc : 0;

        if (nonce) {
          style.setAttribute("nonce", nonce);
        }
      };
rolls_roll_options.insert = function(style){
    var target = getTarget_default()("head");

    if (!target) {
      throw new Error(
        "Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."
      );
    }

    target.appendChild(style);
  };
rolls_roll_options.domAPI = (styleDomAPI_default());
rolls_roll_options.insertStyleElement = (insertStyleElement_default());

var rolls_roll_update = injectStylesIntoStyleTag_default()(rolls_roll/* default */.Z, rolls_roll_options);




       /* harmony default export */ const src_rolls_roll = (rolls_roll/* default */.Z && rolls_roll/* default.locals */.Z.locals ? rolls_roll/* default.locals */.Z.locals : undefined);

;// CONCATENATED MODULE: ./src/rolls/index.js
    var rollModules = [rolls_fallout_roll_roll_namespaceObject, src_rolls_heart_roll_roll_namespaceObject, item_roll_roll_namespaceObject, rolls_stress_roll_roll_namespaceObject];


function rolls_initialise() {
    console.log('heart | Registering rolls');
    rollModules.forEach((module) => {
        const Roll = module.default;

        const index = CONFIG.Dice.rolls.findIndex(x => x.name === Roll.name)
        if (index < 0) {
            CONFIG.Dice.rolls.push(Roll);
        } else {
            CONFIG.Dice.rolls[index] = Roll;
        }
        
        if (game.heart.rolls === undefined) {
            game.heart.rolls = {}
        }
        
        game.heart.rolls[Roll.name] = Roll;

        if(Roll.activateListeners !== undefined) {
            Hooks.on('renderChatLog', (app, html, data) => Roll.activateListeners(html));
            Hooks.on('renderChatPopout', (app, html, data) => Roll.activateListeners(html));
        }
    
        if(module.initialise !== undefined) {
            module.initialise()
        }
    });
}
;// CONCATENATED MODULE: ./src/index.js
                      var templates = [sheet_namespaceObject, base_sheet_namespaceObject, character_sheet_namespaceObject, delve_sheet_namespaceObject, landmark_sheet_namespaceObject, application_namespaceObject, prepare_roll_request_application_namespaceObject, chat_message_namespaceObject, requirement_form_application_namespaceObject, common_sheet_namespaceObject, ability_sheet_namespaceObject, items_base_sheet_namespaceObject, beat_sheet_namespaceObject, calling_sheet_namespaceObject, equipment_sheet_namespaceObject, fallout_sheet_namespaceObject, haunt_sheet_namespaceObject, resource_sheet_namespaceObject, roll_namespaceObject, heart_roll_roll_namespaceObject, tooltip_namespaceObject, stress_roll_roll_namespaceObject];



      var src_modules = [actors_namespaceObject, applications_namespaceObject, chat_messages_namespaceObject, src_namespaceObject_0, items_namespaceObject, rolls_namespaceObject];

function activateTemplates() {
    templates.forEach(function(module) {
        const template = module.default;
        const compiled = Handlebars.compile(template.source);
        Handlebars.registerPartial(template.path, compiled);
        _templateCache[template.path] = compiled;
    });
}

function registerSettings() {
    game.settings.register('heart', 'normalActionTable', {
        name: 'Normal Actions RollTable Source',
        hint: 'When we roll d10 for normal actions, use this table',
        scope: 'world',
        config: true,
        default: 'Compendium.heart.action-tables.eEJiBJABFXLu1QKR',
        type: String,
    });

    game.settings.register('heart', 'difficultActionTable', {
        name: 'Difficult Actions RollTable Source',
        hint: 'When we roll d10 for difficult actions, use this table',
        scope: 'world',
        config: true,
        default: 'Compendium.heart.action-tables.GkSEWldXerpMjmkG',
        type: String,
    });
}

function src_initialise() {
    Hooks._ids = {};
    Hooks._hooks.renderChatLog = [];
    Hooks._hooks.renderChatPopout = [];

    activateTemplates();

    game.heart = {
        difficulties: ['standard', 'risky', 'dangerous', 'impossible'],
        resistances: ['blood', 'mind', 'echo', 'fortune', 'supplies'],
        skills: ['compel', 'delve', 'discern', 'endure', 'evade', 'hunt', 'kill', 'mend','sneak'],
        domains: ['cursed', 'desolate', 'haven', 'occult', 'religion', 'technology', 'warren', 'wild'],
        stress_dice: ['d4', 'd6', 'd8', 'd10', 'd12'],
        di_sizes: ['d4', 'd6', 'd8', 'd10', 'd12'],
    };

    console.log(`heart | Registering ${src_modules.length} modules`);
    src_modules.forEach(module => {
        if(module.initialise !== undefined) {
            module.initialise();
        }
    });

    Handlebars.registerHelper('ordered-checkable', function(value, max) {
        let output = '';
        for(let i=0; i<max; i++) {
            output += `<a data-index="${i}" class="ordered-checkable-box${i < value ? ' checked': ''}"></a>`;
        }
        return output;
    });

    Handlebars.registerHelper('join', function(separator, ...items) {
        const options = items.pop();
        const array = options.hash.array || [];
        return [...items, ...array].join(separator);
    });

    Handlebars.registerHelper('concat', function(a, b) {
        return a + b;
    });

    Handlebars.registerHelper('titlecase', function(a) {
        return a[0].toUpperCase() + a.slice(1);
    });

    Handlebars.registerHelper('includes', function(array, item, options) {
        if(array === undefined) {
            console.warn('includes has undefined array', array, item, options);
            return false;
        }
        return array.includes(item);
    });

    Handlebars.registerHelper('randomID', function() {
        return randomID();
    });

    Handlebars.registerHelper('numEq', function(a, b) {
        return a == b;
    });

    Handlebars.registerHelper('not', function(a) {
        return !Boolean(a);
    });

    Handlebars.registerHelper('notification', function(target, targetName, options) {
        const fa = Boolean(target) ? 'check': 'times';
        let type = options.hash.optional ? 'optional' : 'required';
        const title = game.i18n.localize(`heart.notification:${type}`);
        return `<span class="fas fa-${fa}-circle" data-notification="${type}" data-target="${targetName}" title="${title}" data-type="${options.hash.type}"></span>`;
    });

    Handlebars.registerHelper('getActor', function(id) {
        return game.actors.get(id);
    });

    Handlebars.registerHelper('localizeHeart', function(...args) {
        const options = args.splice(-1, 1)[0];
        const value = `heart.${args.join('.')}`;
        return HandlebarsHelpers.localize(value, options)
    });

    Handlebars.registerHelper('ownsAnyActors', function(ids) {
        for(let id of ids) {
            const actor = game.actors.get(id);
            if(!actor) continue;

            if(actor.isOwner) return true;
        }

        return false;
    });
}

Hooks.once('init', src_initialise);

Hooks.once('ready', function() {
    registerSettings();
});

if (false) {}


/***/ }),

/***/ 239:
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "ece5e5658ae157a8cf70.ttf";

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/systems/heart/";
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module doesn't tell about it's top-level declarations so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__(662);
/******/ 	
/******/ })()
;